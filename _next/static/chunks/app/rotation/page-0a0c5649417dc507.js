(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{21120:(e,t,s)=>{Promise.resolve().then(s.bind(s,89116))},58350:(e,t,s)=>{"use strict";s.d(t,{xp:()=>n,LJ:()=>d,Xk:()=>i});var a=s(12151);let r=new Date().toISOString().split("T")[0],n=(0,a.v)(e=>({cards:[],chineseCards:{},params:{expansion:"OM1",format:"PickTwoDraft",start_date:"2016-01-01",end_date:r},isLoading:!1,error:null,setCards:t=>e({cards:t}),setChineseCards:t=>e(e=>{let s={...e.chineseCards};return t.forEach(e=>{s[e.name]=e,s[e.printed_name]=e,e.face_name&&(s[e.face_name]=e)}),{chineseCards:s}}),setParams:t=>e(e=>({params:{...e.params,...t}})),setIsLoading:t=>e({isLoading:t}),setError:t=>e({error:t})})),i=(0,a.v)((e,t)=>({data:null,isLoading:!1,error:null,lastUpdated:null,fetchStatus:async function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t(),r=Date.now();if(s||!a.data||!a.lastUpdated||!(r-a.lastUpdated<6e4)){e({isLoading:!0});try{let t=await fetch("https://magicthegatheringarena.statuspage.io/api/v2/summary.json");if(!t.ok)throw Error("获取状态信息失败");let s=await t.json();e({data:s,error:null,lastUpdated:r})}catch(t){e({error:t instanceof Error?t.message:"未知错误",data:null})}finally{e({isLoading:!1})}}}})),d=(0,a.v)(e=>({chineseSetNames:{},isLoading:!1,error:null,hasLoaded:!1,fetchChineseSetNames:async()=>{let t=d.getState();if(!t.hasLoaded&&!t.isLoading)try{e({isLoading:!0});let t=await fetch("https://mtgch.com/api/v1/sets/");if(!t.ok)throw Error("获取系列中文名称失败");let s=(await t.json()).reduce((e,t)=>(t.translated_name&&(e[t.code]=t.translated_name),e),{});e({chineseSetNames:s,error:null,hasLoaded:!0})}catch(t){e({error:t instanceof Error?t:Error("获取系列中文名称失败")})}finally{e({isLoading:!1})}}}))},89116:(e,t,s)=>{"use strict";s.d(t,{Content:()=>m});var a=s(61582),r=s(65310),n=s(58350),i=s(55960),d=s(87230),l=s(49090);function c(e,t){if(e){let t=(0,i.H)(e);if((0,d.f)(t))return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"long",day:"numeric"}).format(t);console.warn("Invalid date string passed to formatDate: ".concat(e))}if(t){let e=t.match(/^Q([1-4])\s+(\d{4})$/);if(e){let t=parseInt(e[1]),s=e[2];return"".concat(s,"年").concat({1:"第一季度",2:"第二季度",3:"第三季度",4:"第四季度"}[t])}let s=t.match(/^([A-Za-z]+)\s+(\d{4})$/);if(s){let e=s[1],t=s[2];return"".concat(t,"年").concat({January:"1月",February:"2月",March:"3月",April:"4月",May:"5月",June:"6月",July:"7月",August:"8月",September:"9月",October:"10月",November:"11月",December:"12月"}[e]||e)}return t}return"待定"}function o(e){let{className:t=""}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 ".concat(t),children:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z",clipRule:"evenodd"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z",clipRule:"evenodd"})]})}function m(e){let{currentSetGroups:t,futureSets:s,recentBans:m}=e,{chineseSetNames:x,fetchChineseSetNames:h}=(0,n.LJ)();return(0,r.useEffect)(()=>{h()},[h]),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"标准轮替日程"}),(0,a.jsxs)("div",{className:"bg-[--card] rounded-lg p-4 mb-8",children:[(0,a.jsx)("p",{className:"text-sm text-[--muted-foreground] leading-relaxed",children:"标准赛制中，最近三年内发行的正式系列都可以使用。2027年起，每年新系列发售时，超过三年的系列将会轮替出标准赛制。"}),(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-[--border]",children:[(0,a.jsxs)("div",{className:"mb-2 text-sm text-[--muted-foreground]",children:[(0,a.jsx)("span",{className:"inline-flex items-center rounded-md bg-purple-400/10 px-2 py-1 text-xs font-medium text-purple-500 ring-1 ring-inset ring-purple-400/20 whitespace-nowrap mr-2",children:"无疆新宇宙"}),"与其他IP跨界联动的系列，如魔戒：中洲传说™、最终幻想™等，引入了万智牌以外的世界观和角色。"]}),(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground]",children:[(0,a.jsx)("span",{className:"inline-flex items-center rounded-md bg-emerald-400/10 px-2 py-1 text-xs font-medium text-emerald-500 ring-1 ring-inset ring-emerald-400/20 whitespace-nowrap mr-2",children:"穿越预兆路"}),"部分联动IP无法上线数字平台，故而在数字平台上以万智牌世界观重新设计，但保持相同的游戏机制。"]})]})]}),(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"当前标准系列"}),(0,a.jsx)("div",{className:"space-y-8",children:t.map((e,t)=>{let s=0===t,r=s?{border:"border-emerald-500",bg:"bg-emerald-500/10",text:"text-emerald-500",dot:"bg-emerald-500",badge:{bg:"bg-emerald-400/10",text:"text-emerald-500",ring:"ring-emerald-400/30"}}:{border:"border-yellow-500",bg:"bg-yellow-500/10",text:"text-yellow-500",dot:"bg-yellow-500",badge:{bg:"bg-yellow-400/10",text:"text-yellow-500",ring:"ring-yellow-400/30"}};return(0,a.jsxs)("div",{className:"bg-[--card] rounded-lg overflow-hidden border-2 transition-colors ".concat(r.border),children:[(0,a.jsxs)("div",{className:"px-4 py-3 flex justify-between items-center ".concat(r.bg),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(r.dot," animate-pulse")}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[c(e.exitDate,e.roughExitDate)," 轮替"]}),s&&(0,a.jsx)("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium\n                        ".concat(r.badge.bg," ").concat(r.badge.text," ring-1 ring-inset ").concat(r.badge.ring),children:"下一轮替"})]}),(0,a.jsx)("div",{className:"text-sm font-medium ".concat(r.text),children:function(e){var t,s;let a=e.map(e=>e.enter_date).filter(e=>null!==e).map(e=>(0,i.H)(e)).filter(e=>(0,d.f)(e));if(0===a.length)return"";let r=new Date(Math.min(...a.map(e=>e.getTime()))),n=e[0].exit_date?(0,i.H)(e[0].exit_date):null,l=r.getFullYear(),c=n&&(0,d.f)(n)?n.getFullYear():(null==(s=e[0].rough_exit_date)||null==(t=s.match(/\d{4}/))?void 0:t[0])||"";return"".concat(l,"–").concat(c)}(e.sets)})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"space-y-3",children:e.sets.map(e=>(0,a.jsx)("div",{className:"border border-[--border] rounded-lg p-4 group",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("h3",{className:"font-medium text-[--foreground] flex items-center gap-1",children:[(0,a.jsx)("a",{href:e.code?"https://mtgch.com/set/".concat(e.code,"?utm_source=shiqidi&order=released_at"):"#",target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground] ".concat(e.code?"hover:opacity-70 transition-opacity":""),children:e.code&&x[e.code]?x[e.code]:e.name}),e.code&&(0,a.jsx)(o,{className:"opacity-0 group-hover:opacity-50 transition-opacity"})]})}),(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[e.code&&(0,a.jsx)("i",{className:"ss ss-".concat(e.code.toLowerCase()," ss-fw")}),(0,a.jsx)("span",{children:e.code}),e.universes_beyond&&(0,a.jsx)("span",{className:"ml-2 inline-flex items-center rounded-md bg-purple-400/10 px-2 py-1 text-xs font-medium text-purple-500 ring-1 ring-inset ring-purple-400/20 whitespace-nowrap",children:"无疆新宇宙"})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground] whitespace-nowrap",children:[c(e.enter_date,e.rough_enter_date)," 发售"]})})]}),e.digital_name&&e.digital_code&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-[--border] relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[--card] px-2",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",className:"text-[--muted-foreground]",children:(0,a.jsx)("path",{d:"M10,17.55,8.23,19.27a2.47,2.47,0,0,1-3.5-3.5l4.54-4.55a2.46,2.46,0,0,1,3.39-.09l.12.1a1,1,0,0,0,1.4-1.43A2.75,2.75,0,0,0,14,9.59a4.46,4.46,0,0,0-6.09.22L3.31,14.36a4.48,4.48,0,0,0,6.33,6.33L11.37,19A1,1,0,0,0,10,17.55ZM20.69,3.31a4.49,4.49,0,0,0-6.33,0L12.63,5A1,1,0,0,0,14,6.45l1.73-1.72a2.47,2.47,0,0,1,3.5,3.5l-4.54,4.55a2.46,2.46,0,0,1-3.39.09l-.12-.1a1,1,0,0,0-1.4,1.43,2.75,2.75,0,0,0,.23.21,4.47,4.47,0,0,0,6.09-.22l4.55-4.55A4.49,4.49,0,0,0,20.69,3.31Z"})})}),(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("h4",{className:"font-medium text-[--foreground] flex items-center gap-1",children:[(0,a.jsx)("a",{href:"https://mtgch.com/set/".concat(e.digital_code,"?utm_source=shiqidi&order=released_at"),target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground] hover:opacity-70 transition-opacity",children:e.digital_code&&x[e.digital_code]?x[e.digital_code]:e.digital_name}),(0,a.jsx)(o,{className:"opacity-0 group-hover:opacity-50 transition-opacity"})]})}),(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[(0,a.jsx)("i",{className:"ss ss-".concat(e.digital_code.toLowerCase()," ss-fw")}),(0,a.jsx)("span",{children:e.digital_code}),(0,a.jsx)("span",{className:"ml-2 inline-flex items-center rounded-md bg-emerald-400/10 px-2 py-1 text-xs font-medium text-emerald-500 ring-1 ring-inset ring-emerald-400/20 whitespace-nowrap",children:"穿越预兆路"})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("div",{className:"text-sm text-[--muted-foreground]",children:"数字平台同期发售"})})]})]})]})},e.code))})})]},t)})})]}),s.length>0&&(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"即将发售"}),(0,a.jsx)("div",{className:"bg-[--card] rounded-lg border-2 border-[--border] p-4",children:(0,a.jsx)("div",{className:"space-y-3",children:s.map((e,t)=>(0,a.jsx)("div",{className:"border border-[--border] rounded-lg p-4 group",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("h3",{className:"font-medium text-[--foreground] flex items-center gap-1",children:[(0,a.jsx)("a",{href:e.code?"https://mtgch.com/set/".concat(e.code,"?utm_source=shiqidi&order=released_at"):"#",target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground] ".concat(e.code?"hover:opacity-70 transition-opacity":""),children:e.code&&x[e.code]?x[e.code]:e.name||e.codename||"未知系列"}),e.code&&(0,a.jsx)(o,{className:"opacity-0 group-hover:opacity-50 transition-opacity"})]})}),e.code&&(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[(0,a.jsx)("i",{className:"ss ss-".concat(e.code.toLowerCase()," ss-fw")}),(0,a.jsx)("span",{children:e.code}),e.universes_beyond&&(0,a.jsx)("span",{className:"ml-2 inline-flex items-center rounded-md bg-purple-400/10 px-2 py-1 text-xs font-medium text-purple-500 ring-1 ring-inset ring-purple-400/20 whitespace-nowrap",children:"无疆新宇宙"})]})]}),(0,a.jsxs)("div",{className:"text-right flex flex-col items-end gap-2",children:[(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground] whitespace-nowrap",children:[c(e.enter_date,e.rough_enter_date)," 发售"]}),(0,a.jsx)("div",{className:"text-sm text-[--muted-foreground] mt-1",children:function(e,t){if(!e&&!t)return"待定";let s=e?(0,i.H)(e):null;if((!s||!(0,d.f)(s))&&t){let e=t.match(/^Q([1-4])\s+(\d{4})$/);if(e){let t=parseInt(e[1]);s=new Date(parseInt(e[2]),{1:1,2:4,3:7,4:10}[t],15)}else{let e=t.match(/^([A-Za-z]+)\s+(\d{4})$/);if(e){let t=e[1],a=parseInt(e[2]),r={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11};void 0!==r[t]&&(s=new Date(a,r[t],15))}}}if(!s||!(0,d.f)(s))return t||"待定";let a=new Date,r=Math.ceil((s.getTime()-a.getTime())/864e5);if(r<0)return"已过期";if(0===r)return"今天";if(1===r)return"明天";if(r<=30)return"".concat(r,"天后");let n=Math.floor(r/30);if(n<12)return"".concat(n,"个月后");let l=Math.floor(n/12),c=n%12;return 0===c?"".concat(l,"年后"):"".concat(l,"年").concat(c,"个月后")}(e.enter_date,e.rough_enter_date)})]})]}),e.digital_name&&e.digital_code&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-[--border] relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[--card] px-2",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",className:"text-[--muted-foreground]",children:(0,a.jsx)("path",{d:"M10,17.55,8.23,19.27a2.47,2.47,0,0,1-3.5-3.5l4.54-4.55a2.46,2.46,0,0,1,3.39-.09l.12.1a1,1,0,0,0,1.4-1.43A2.75,2.75,0,0,0,14,9.59a4.46,4.46,0,0,0-6.09.22L3.31,14.36a4.48,4.48,0,0,0,6.33,6.33L11.37,19A1,1,0,0,0,10,17.55ZM20.69,3.31a4.49,4.49,0,0,0-6.33,0L12.63,5A1,1,0,0,0,14,6.45l1.73-1.72a2.47,2.47,0,0,1,3.5,3.5l-4.54,4.55a2.46,2.46,0,0,1-3.39.09l-.12-.1a1,1,0,0,0-1.4,1.43,2.75,2.75,0,0,0,.23.21,4.47,4.47,0,0,0,6.09-.22l4.55-4.55A4.49,4.49,0,0,0,20.69,3.31Z"})})}),(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("h4",{className:"font-medium text-[--foreground] flex items-center gap-1",children:[(0,a.jsx)("a",{href:"https://mtgch.com/set/".concat(e.digital_code,"?utm_source=shiqidi&order=released_at"),target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground] hover:opacity-70 transition-opacity",children:e.digital_code&&x[e.digital_code]?x[e.digital_code]:e.digital_name}),(0,a.jsx)(o,{className:"opacity-0 group-hover:opacity-50 transition-opacity"})]})}),(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[(0,a.jsx)("i",{className:"ss ss-".concat(e.digital_code.toLowerCase()," ss-fw")}),(0,a.jsx)("span",{children:e.digital_code}),(0,a.jsx)("span",{className:"ml-2 inline-flex items-center rounded-md bg-emerald-400/10 px-2 py-1 text-xs font-medium text-emerald-500 ring-1 ring-inset ring-emerald-400/20 whitespace-nowrap",children:"穿越预兆路"})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("div",{className:"text-sm text-[--muted-foreground]",children:"数字平台同期发售"})})]})]})]})},e.code||t))})})]}),m.length>0&&(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"标准环境禁牌"}),(0,a.jsx)("div",{className:"bg-[--card] rounded-lg p-4",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:m.map((e,t)=>(0,a.jsx)("div",{className:"border border-[--border] rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex flex-row items-start gap-4",children:[e.card_image_url&&(0,a.jsx)("div",{className:"flex-shrink-0 w-20 sm:w-28",children:e.set_code&&e.set_code.includes(":")?(0,a.jsx)("a",{href:"https://mtgch.com/card/".concat(e.set_code.split(":")[0],"/").concat(e.set_code.split(":")[1],"?utm_source=shiqidi"),target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(l.default,{src:e.card_image_url,alt:e.card_name,width:320,height:448,className:"w-full h-auto rounded-lg shadow-md hover:shadow-lg transition-shadow",loading:"lazy"})}):(0,a.jsx)(l.default,{src:e.card_image_url,alt:e.card_name,width:320,height:448,className:"w-full h-auto rounded-lg shadow-md hover:shadow-lg transition-shadow",loading:"lazy"})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-[--foreground]",children:e.set_code&&e.set_code.includes(":")?(0,a.jsx)("a",{href:"https://mtgch.com/card/".concat(e.set_code.split(":")[0],"/").concat(e.set_code.split(":")[1],"?utm_source=shiqidi"),target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.card_name}):e.card_name}),(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[(0,a.jsx)("i",{className:"ss ss-".concat(e.set_code.split(":")[0].toLowerCase()," ss-fw")}),(0,a.jsx)("span",{children:x[e.set_code.split(":")[0]]||e.set_code.split(":")[0]})]})]}),e.announcement_url&&(0,a.jsx)("a",{href:"".concat(e.announcement_url).concat(e.announcement_url.includes("?")?"&":"?","utm_source=shiqidi"),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[--primary] hover:underline whitespace-nowrap flex-shrink-0 min-w-[3rem] text-center",children:"公告"})]}),(0,a.jsx)("p",{className:"text-sm text-[--muted-foreground] mt-3",children:e.reason})]})]})},t))})})]})]})}}},e=>{e.O(0,[90,781,845,264,358],()=>e(e.s=21120)),_N_E=e.O()}]);