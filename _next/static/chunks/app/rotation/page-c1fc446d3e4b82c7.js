(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{81142:(e,t,s)=>{"use strict";s.d(t,{Content:()=>h});var r=s(82995),a=s(79283),l=s(91848),n=s(76138),i=s(23692),d=s(27527),c=s(55026),o=s(46275);function m(e,t){if(e){let t=(0,n.H)(e);if((0,i.f)(t))return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"long",day:"numeric"}).format(t);console.warn("Invalid date string passed to formatDate: ".concat(e))}if(t){let e=t.match(/^Q([1-4])\s+(\d{4})$/);if(e){let t=parseInt(e[1]),s=e[2];return"".concat(s,"年").concat({1:"第一季度",2:"第二季度",3:"第三季度",4:"第四季度"}[t])}let s=t.match(/^([A-Za-z]+)\s+(\d{4})$/);if(s){let e=s[1],t=s[2];return"".concat(t,"年").concat({January:"1月",February:"2月",March:"3月",April:"4月",May:"5月",June:"6月",July:"7月",August:"8月",September:"9月",October:"10月",November:"11月",December:"12月"}[e]||e)}return t}return"待定"}function x(e){let{className:t=""}=e;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 ".concat(t),children:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z",clipRule:"evenodd"})]})}function h(e){let{currentSetGroups:t,futureSets:s,recentBans:d}=e,{chineseSetNames:c,fetchChineseSetNames:o}=(0,l.LJ)();return(0,a.useEffect)(()=>{o()},[o]),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"标准轮替日程"}),(0,r.jsxs)("div",{className:"bg-[--card] rounded-lg p-4 mb-8",children:[(0,r.jsx)("p",{className:"text-sm text-[--muted-foreground] leading-relaxed",children:"标准赛制中，最近三年内发行的正式系列都可以使用。2027年起，每年新系列发售时，超过三年的系列将会轮替出标准赛制。"}),(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t border-[--border]",children:[(0,r.jsxs)("div",{className:"mb-2 text-sm text-[--muted-foreground]",children:[(0,r.jsx)("span",{className:"inline-flex items-center rounded-md bg-purple-400/10 px-2 py-1 text-xs font-medium text-purple-500 ring-1 ring-inset ring-purple-400/20 whitespace-nowrap mr-2",children:"无疆新宇宙"}),"与其他IP跨界联动的系列，如魔戒：中洲传说™、最终幻想™等，引入了万智牌以外的世界观和角色。"]}),(0,r.jsxs)("div",{className:"text-sm text-[--muted-foreground]",children:[(0,r.jsx)("span",{className:"inline-flex items-center rounded-md bg-emerald-400/10 px-2 py-1 text-xs font-medium text-emerald-500 ring-1 ring-inset ring-emerald-400/20 whitespace-nowrap mr-2",children:"穿越预兆路"}),"部分联动IP无法上线数字平台，故而在数字平台上以万智牌世界观重新设计，但保持相同的游戏机制。"]})]})]}),(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"当前标准系列"}),(0,r.jsx)("div",{className:"space-y-8",children:t.map((e,t)=>{let s=0===t,a=s?{border:"border-emerald-500",bg:"bg-emerald-500/10",text:"text-emerald-500",dot:"bg-emerald-500",badge:{bg:"bg-emerald-400/10",text:"text-emerald-500",ring:"ring-emerald-400/30"}}:{border:"border-yellow-500",bg:"bg-yellow-500/10",text:"text-yellow-500",dot:"bg-yellow-500",badge:{bg:"bg-yellow-400/10",text:"text-yellow-500",ring:"ring-yellow-400/30"}};return(0,r.jsxs)("div",{className:"bg-[--card] rounded-lg overflow-hidden border-2 transition-colors ".concat(a.border),children:[(0,r.jsxs)("div",{className:"px-4 py-3 flex justify-between items-center ".concat(a.bg),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(a.dot," animate-pulse")}),(0,r.jsxs)("div",{className:"text-sm font-medium",children:[m(e.exitDate,e.roughExitDate)," 轮替"]}),s&&(0,r.jsx)("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium\n                        ".concat(a.badge.bg," ").concat(a.badge.text," ring-1 ring-inset ").concat(a.badge.ring),children:"下一轮替"})]}),(0,r.jsx)("div",{className:"text-sm font-medium ".concat(a.text),children:function(e){var t,s;let r=e.map(e=>e.enter_date).filter(e=>null!==e).map(e=>(0,n.H)(e)).filter(e=>(0,i.f)(e));if(0===r.length)return"";let a=new Date(Math.min(...r.map(e=>e.getTime()))),l=e[0].exit_date?(0,n.H)(e[0].exit_date):null,d=a.getFullYear(),c=l&&(0,i.f)(l)?l.getFullYear():(null==(s=e[0].rough_exit_date)||null==(t=s.match(/\d{4}/))?void 0:t[0])||"";return"".concat(d,"–").concat(c)}(e.sets)})]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"space-y-3",children:e.sets.map(e=>(0,r.jsx)("div",{className:"border border-[--border] rounded-lg p-4 group",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("h3",{className:"font-medium text-[--foreground] flex items-center gap-1",children:[(0,r.jsx)("a",{href:e.code?"https://mtgch.com/set/".concat(e.code,"?utm_source=shiqidi&order=released_at"):"#",target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground] ".concat(e.code?"hover:opacity-70 transition-opacity":""),children:e.code&&c[e.code]?c[e.code]:e.name}),e.code&&(0,r.jsx)(x,{className:"opacity-0 group-hover:opacity-50 transition-opacity"})]})}),(0,r.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[e.code&&(0,r.jsx)("i",{className:"ss ss-".concat(e.code.toLowerCase()," ss-fw")}),(0,r.jsx)("span",{children:e.code}),e.universes_beyond&&(0,r.jsx)("span",{className:"ml-2 inline-flex items-center rounded-md bg-purple-400/10 px-2 py-1 text-xs font-medium text-purple-500 ring-1 ring-inset ring-purple-400/20 whitespace-nowrap",children:"无疆新宇宙"})]})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsxs)("div",{className:"text-sm text-[--muted-foreground] whitespace-nowrap",children:[m(e.enter_date,e.rough_enter_date)," 发售"]})})]}),e.digital_name&&e.digital_code&&(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t border-[--border] relative",children:[(0,r.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[--card] px-2",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",className:"text-[--muted-foreground]",children:(0,r.jsx)("path",{d:"M10,17.55,8.23,19.27a2.47,2.47,0,0,1-3.5-3.5l4.54-4.55a2.46,2.46,0,0,1,3.39-.09l.12.1a1,1,0,0,0,1.4-1.43A2.75,2.75,0,0,0,14,9.59a4.46,4.46,0,0,0-6.09.22L3.31,14.36a4.48,4.48,0,0,0,6.33,6.33L11.37,19A1,1,0,0,0,10,17.55ZM20.69,3.31a4.49,4.49,0,0,0-6.33,0L12.63,5A1,1,0,0,0,14,6.45l1.73-1.72a2.47,2.47,0,0,1,3.5,3.5l-4.54,4.55a2.46,2.46,0,0,1-3.39.09l-.12-.1a1,1,0,0,0-1.4,1.43,2.75,2.75,0,0,0,.23.21,4.47,4.47,0,0,0,6.09-.22l4.55-4.55A4.49,4.49,0,0,0,20.69,3.31Z"})})}),(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("h4",{className:"font-medium text-[--foreground] flex items-center gap-1",children:[(0,r.jsx)("a",{href:"https://mtgch.com/set/".concat(e.digital_code,"?utm_source=shiqidi&order=released_at"),target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground] hover:opacity-70 transition-opacity",children:e.digital_code&&c[e.digital_code]?c[e.digital_code]:e.digital_name}),(0,r.jsx)(x,{className:"opacity-0 group-hover:opacity-50 transition-opacity"})]})}),(0,r.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[(0,r.jsx)("i",{className:"ss ss-".concat(e.digital_code.toLowerCase()," ss-fw")}),(0,r.jsx)("span",{children:e.digital_code}),(0,r.jsx)("span",{className:"ml-2 inline-flex items-center rounded-md bg-emerald-400/10 px-2 py-1 text-xs font-medium text-emerald-500 ring-1 ring-inset ring-emerald-400/20 whitespace-nowrap",children:"穿越预兆路"})]})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("div",{className:"text-sm text-[--muted-foreground]",children:"数字平台同期发售"})})]})]})]})},e.code))})})]},t)})})]}),s.length>0&&(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"即将发售"}),(0,r.jsx)("div",{className:"bg-[--card] rounded-lg border-2 border-[--border] p-4",children:(0,r.jsx)("div",{className:"space-y-3",children:s.map((e,t)=>(0,r.jsx)("div",{className:"border border-[--border] rounded-lg p-4 group",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("h3",{className:"font-medium text-[--foreground] flex items-center gap-1",children:[(0,r.jsx)("a",{href:e.code?"https://mtgch.com/set/".concat(e.code,"?utm_source=shiqidi&order=released_at"):"#",target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground] ".concat(e.code?"hover:opacity-70 transition-opacity":""),children:e.code&&c[e.code]?c[e.code]:e.name||e.codename||"未知系列"}),e.code&&(0,r.jsx)(x,{className:"opacity-0 group-hover:opacity-50 transition-opacity"})]})}),e.code&&(0,r.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[(0,r.jsx)("i",{className:"ss ss-".concat(e.code.toLowerCase()," ss-fw")}),(0,r.jsx)("span",{children:e.code}),e.universes_beyond&&(0,r.jsx)("span",{className:"ml-2 inline-flex items-center rounded-md bg-purple-400/10 px-2 py-1 text-xs font-medium text-purple-500 ring-1 ring-inset ring-purple-400/20 whitespace-nowrap",children:"无疆新宇宙"})]})]}),(0,r.jsxs)("div",{className:"text-right flex flex-col items-end gap-2",children:[(0,r.jsxs)("div",{className:"text-sm text-[--muted-foreground] whitespace-nowrap",children:[m(e.enter_date,e.rough_enter_date)," 发售"]}),(0,r.jsx)("div",{className:"text-sm text-[--muted-foreground] mt-1",children:function(e,t){if(!e&&!t)return"待定";let s=e?(0,n.H)(e):null;if((!s||!(0,i.f)(s))&&t){let e=t.match(/^Q([1-4])\s+(\d{4})$/);if(e){let t=parseInt(e[1]);s=new Date(parseInt(e[2]),{1:1,2:4,3:7,4:10}[t],15)}else{let e=t.match(/^([A-Za-z]+)\s+(\d{4})$/);if(e){let t=e[1],r=parseInt(e[2]),a={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11};void 0!==a[t]&&(s=new Date(r,a[t],15))}}}if(!s||!(0,i.f)(s))return t||"待定";let r=new Date,a=Math.ceil((s.getTime()-r.getTime())/864e5);if(a<0)return"已过期";if(0===a)return"今天";if(1===a)return"明天";if(a<=30)return"".concat(a,"天后");let l=Math.floor(a/30);if(l<12)return"".concat(l,"个月后");let d=Math.floor(l/12),c=l%12;return 0===c?"".concat(d,"年后"):"".concat(d,"年").concat(c,"个月后")}(e.enter_date,e.rough_enter_date)})]})]}),e.digital_name&&e.digital_code&&(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t border-[--border] relative",children:[(0,r.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[--card] px-2",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",className:"text-[--muted-foreground]",children:(0,r.jsx)("path",{d:"M10,17.55,8.23,19.27a2.47,2.47,0,0,1-3.5-3.5l4.54-4.55a2.46,2.46,0,0,1,3.39-.09l.12.1a1,1,0,0,0,1.4-1.43A2.75,2.75,0,0,0,14,9.59a4.46,4.46,0,0,0-6.09.22L3.31,14.36a4.48,4.48,0,0,0,6.33,6.33L11.37,19A1,1,0,0,0,10,17.55ZM20.69,3.31a4.49,4.49,0,0,0-6.33,0L12.63,5A1,1,0,0,0,14,6.45l1.73-1.72a2.47,2.47,0,0,1,3.5,3.5l-4.54,4.55a2.46,2.46,0,0,1-3.39.09l-.12-.1a1,1,0,0,0-1.4,1.43,2.75,2.75,0,0,0,.23.21,4.47,4.47,0,0,0,6.09-.22l4.55-4.55A4.49,4.49,0,0,0,20.69,3.31Z"})})}),(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("h4",{className:"font-medium text-[--foreground] flex items-center gap-1",children:[(0,r.jsx)("a",{href:"https://mtgch.com/set/".concat(e.digital_code,"?utm_source=shiqidi&order=released_at"),target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground] hover:opacity-70 transition-opacity",children:e.digital_code&&c[e.digital_code]?c[e.digital_code]:e.digital_name}),(0,r.jsx)(x,{className:"opacity-0 group-hover:opacity-50 transition-opacity"})]})}),(0,r.jsxs)("div",{className:"text-sm text-[--muted-foreground] mt-1 flex items-center gap-1.5",children:[(0,r.jsx)("i",{className:"ss ss-".concat(e.digital_code.toLowerCase()," ss-fw")}),(0,r.jsx)("span",{children:e.digital_code}),(0,r.jsx)("span",{className:"ml-2 inline-flex items-center rounded-md bg-emerald-400/10 px-2 py-1 text-xs font-medium text-emerald-500 ring-1 ring-inset ring-emerald-400/20 whitespace-nowrap",children:"穿越预兆路"})]})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("div",{className:"text-sm text-[--muted-foreground]",children:"数字平台同期发售"})})]})]})]})},e.code||t))})})]}),d.length>0&&(0,r.jsx)(u,{bans:d,chineseSetNames:c})]})}function u(e){let{bans:t,chineseSetNames:s}=e,[l,n]=(0,a.useState)(0),[i,m]=(0,a.useState)(0),h=(0,a.useRef)(null),u=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!(t.length<=1))return m(0),u.current=setInterval(()=>{m(e=>{let s=e+1;return s>=100?(n(e=>(e+1)%t.length),0):s})},50),()=>{u.current&&clearInterval(u.current)}},[t.length,l]),(0,a.useEffect)(()=>{m(0)},[l]);let g=t[l],p=g.set_code.includes(":")?g.set_code.split(":")[0]:g.set_code,f=320/448;return(0,r.jsxs)("section",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"标准环境禁牌"}),(0,r.jsxs)("div",{className:"bg-[--card] rounded-lg p-4",children:[(0,r.jsxs)("div",{ref:h,className:"relative w-full h-[280px] sm:h-[320px] md:h-[360px] overflow-hidden rounded-lg border-2 border-[--border] bg-black",children:[(0,r.jsx)("button",{onClick:()=>{n(e=>(e-1+t.length)%t.length),m(0)},className:"absolute left-2 top-1/2 -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white rounded-full p-2 transition-colors","aria-label":"上一张",children:(0,r.jsx)(c.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>{n(e=>(e+1)%t.length),m(0)},className:"absolute right-2 top-1/2 -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white rounded-full p-2 transition-colors","aria-label":"下一张",children:(0,r.jsx)(o.A,{className:"h-5 w-5"})}),t.map((e,s)=>{let a=s===l,i=(()=>{if(!h.current)return 70;let e=h.current.offsetHeight;return Math.max(45,Math.min(70,e*f/h.current.offsetWidth*140))})(),c=(100-i)/(t.length-1),o=0;return o=s<l?s*c:s===l?l*c:l*c+i+(s-l-1)*c,(0,r.jsx)("div",{onClick:()=>{n(s),m(0)},className:"absolute top-0 bottom-0 transition-all duration-500 ease-in-out cursor-pointer overflow-hidden",style:{left:"".concat(o,"%"),width:a?"".concat(i,"%"):"".concat(c,"%"),zIndex:a?10:1,marginRight:s<t.length-1?"-1px":"0"},children:(0,r.jsxs)("div",{className:"\n                    relative w-full h-full overflow-hidden transition-all duration-500\n                    ".concat(a?"brightness-100":"brightness-50","\n                  "),style:{width:"calc(100% + 2px)",marginLeft:"-1px",marginRight:"-1px"},children:[e.card_image_url&&(0,r.jsx)(d.default,{src:e.card_image_url,alt:e.card_name,width:320,height:448,className:"absolute inset-0 w-full h-full object-cover",style:{width:"100%",height:"100%"},loading:"lazy"}),!a&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 transition-opacity duration-500"}),a&&(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-[--primary] to-[--accent] opacity-90 z-20"})]})},s)}),(0,r.jsx)("div",{className:"absolute z-50",style:{bottom:0,left:0,right:0,width:"100%",height:"2px",margin:0,padding:0,transform:"translateZ(0)"},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50",style:{borderRadius:0,margin:0,padding:0,width:"100%",height:"100%"},children:(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 bg-white transition-all duration-50 ease-linear",style:{width:"".concat(Math.max(0,Math.min(100,i)),"%"),borderRadius:0,margin:0,padding:0,height:"100%"}})})})]}),g&&(0,r.jsxs)("div",{className:"mt-1 p-4 bg-[--card] rounded-lg border border-[--border]",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-[--foreground]",children:g.card_name}),g.set_code.includes(":")&&(0,r.jsx)("a",{href:"https://mtgch.com/card/".concat(g.set_code.split(":")[0],"/").concat(g.set_code.split(":")[1],"?utm_source=shiqidi"),target:"_blank",rel:"noopener noreferrer",className:"text-[--muted-foreground] hover:text-[--primary] transition-colors","aria-label":"跳转到卡片详情",children:(0,r.jsx)(x,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[--muted-foreground]",children:[(0,r.jsx)("i",{className:"ss ss-".concat(p.toLowerCase()," ss-fw")}),(0,r.jsx)("span",{children:s[p]||p})]})]}),g.announcement_url&&(0,r.jsx)("a",{href:"".concat(g.announcement_url).concat(g.announcement_url.includes("?")?"&":"?","utm_source=shiqidi"),target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm text-[--primary] hover:text-[--primary-hover] bg-[--primary]/10 hover:bg-[--primary]/20 rounded-md transition-colors whitespace-nowrap flex-shrink-0",children:"查看公告"})]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)("p",{className:"text-sm text-[--foreground] leading-relaxed",children:g.reason})})]})]})]})}},95883:(e,t,s)=>{Promise.resolve().then(s.bind(s,81142))}},e=>{e.O(0,[527,30,848,451,75,358],()=>e(e.s=95883)),_N_E=e.O()}]);