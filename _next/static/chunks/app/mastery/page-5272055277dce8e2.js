(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{23630:(e,t,s)=>{"use strict";s.d(t,{MasteryCalculator:()=>b});var a=s(14994),n=s(83802),r=s(87104),l=s(71262);function i(e){let{title:t,icon:s,extra:n,children:r}=e;return(0,a.jsxs)("div",{className:"border border-[--border] rounded-lg p-6 bg-[--card]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s,(0,a.jsx)("h2",{className:"text-lg font-semibold",children:t})]}),n]}),r]})}var c=s(6533);function d(e){let{className:t="",min:s,max:n,step:r,value:l,onValueChange:i,...d}=e;return(0,a.jsxs)(c.bL,{className:"relative flex items-center select-none touch-none w-full h-5 ".concat(t),value:l,onValueChange:i,min:s,max:n,step:r,...d,children:[(0,a.jsx)(c.CC,{className:"relative grow rounded-full h-[3px] bg-[--border]",children:(0,a.jsx)(c.Q6,{className:"absolute h-full rounded-full bg-[--primary]"})}),(0,a.jsx)(c.zi,{className:"block w-4 h-4 bg-[--primary] rounded-full focus:outline-none focus:ring-2 focus:ring-[--ring] disabled:pointer-events-none disabled:opacity-50"})]})}function o(e){let{label:t,description:s,value:n,onChange:r,min:i=0,max:c=100,step:o=1,showMaxValue:m=!1}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"number",value:n,onChange:e=>{r([Math.min(Math.max(parseInt(e.target.value)||0,i),c)])},min:i,max:c,step:o,className:"w-12 h-7 rounded border border-[--border] bg-[--input] font-mono text-sm text-center [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),m&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["/ ",c]})]})]}),(0,a.jsx)(d,{value:[n],onValueChange:r,min:i,max:c,step:o,className:"my-2"}),s&&(0,a.jsx)("div",{className:"text-xs text-[--muted-foreground]",children:s})]})}function m(){let e=new Date;return e.setUTCHours(9,0,0,0),e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function u(e){let{currentLevel:t,excessXP:s,incompleteDailyWins:a,incompleteDailyQuests:n,incompleteWeeklyWins:r}=e;return(t-1)*1e3+s+25*a+500*n+250*r}function x(e,t){return 25*Math.min(e,10)*t}function p(e,t){let s=Math.min(e,15),a=new Date,n=a.getUTCDay(),r=a.getUTCHours(),l=0===n&&r<9,i=Math.floor((t-(l?0:n))/7),c=250*s*i;return(l||t-7*i>=(7-n)%7)&&(c+=250*s),c}function g(e,t){return 500*Math.min(e,t)}function h(e,t){let s=new Date(e),a=new Date(t);return a.setUTCHours(9,0,0,0),Math.ceil((a.getTime()-s.getTime())/864e5)}let y={setCode:"DFT",startDate:"2025-02-11",endDate:"2025-04-08",maxLevel:60,defaultDailyWins:4,defaultWeeklyWins:15};var f=s(61692);function b(){let[e,t]=(0,n.useState)({currentDate:new Date().toISOString().split("T")[0],endDate:y.endDate,daysLeft:h(new Date().toISOString().split("T")[0],y.endDate),maxLevel:y.maxLevel,currentLevel:1,excessXP:0,incompleteDailyWins:0,incompleteDailyQuests:0,incompleteWeeklyWins:0,dailyWinsPerDay:y.defaultDailyWins,weeklyWinsPerWeek:y.defaultWeeklyWins,dailyQuestsLeft:0}),s=u(e),c=x(e.dailyWinsPerDay,e.daysLeft),d=g(e.dailyQuestsLeft,e.daysLeft),b=p(e.weeklyWinsPerWeek,e.daysLeft),j=Math.floor((s+(c+d+b))/1e3)+1,v=f.c.find(e=>e.code===y.setCode),N=(e,s)=>{t(t=>({...t,[e]:s[0]}))},D=(e,s)=>{t(t=>{let a={...t,[e]:s};return a.daysLeft=h(a.currentDate,a.endDate),a})};return(0,a.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"精研通行证计算器"}),(0,a.jsx)("p",{className:"mt-2 text-[--muted-foreground]",children:"计算精研通行证等级进度，帮助你规划每日任务"})]}),(0,a.jsx)(i,{title:"通行证信息",extra:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"keyrune ss ss-2x ss-".concat(y.setCode.toLowerCase())}),(0,a.jsx)("span",{children:null==v?void 0:v.name})]}),(0,a.jsxs)("div",{className:"text-sm text-[--muted-foreground]",children:["时间：",new Date(y.startDate).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})," ~ ",new Date(y.endDate).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})]})]}),children:(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"当前日期"}),(0,a.jsx)(r.p,{type:"date",value:e.currentDate,onChange:e=>D("currentDate",e.target.value),min:y.startDate,max:e.endDate,className:"bg-[--input] font-mono text-center"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"结束日期"}),(0,a.jsx)(r.p,{type:"date",value:e.endDate,onChange:e=>D("endDate",e.target.value),min:e.currentDate,max:y.endDate,className:"bg-[--input] font-mono text-center"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"剩余天数"}),(0,a.jsx)(r.p,{type:"text",value:e.daysLeft,readOnly:!0,className:"bg-[--input] font-mono text-center text-lg"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"最高等级"}),(0,a.jsx)(r.p,{type:"text",value:e.maxLevel,readOnly:!0,className:"bg-[--input] font-mono text-center text-lg"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"预期等级"}),(0,a.jsx)(r.p,{type:"text",value:j,readOnly:!0,className:"bg-[--input] font-mono text-center text-lg"})]})]})}),(0,a.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,a.jsx)(i,{title:"当前进度",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"p-4 rounded-lg bg-[--accent]/50",children:(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"总经验值"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"包含当前等级经验、额外经验和未完成任务经验"}),(0,a.jsx)(r.p,{type:"text",value:u(e).toLocaleString(),readOnly:!0,className:"bg-[--input] font-mono text-center text-lg"})]})}),(0,a.jsx)("div",{className:"border-t border-[--border] pt-6",children:(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-[--accent]/50",children:[(0,a.jsx)(o,{label:"当前等级",description:"设置你当前的通行证等级",value:e.currentLevel,onChange:e=>N("currentLevel",e),min:1,max:e.maxLevel,showMaxValue:!0}),(0,a.jsx)(o,{label:"额外经验值",description:"设置当前等级的额外经验值",value:e.excessXP,onChange:e=>N("excessXP",e),max:1e3,step:25,showMaxValue:!0})]})}),(0,a.jsxs)("div",{className:"border-t border-[--border] pt-6",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-[--muted-foreground] mb-4",children:"未完成任务"}),(0,a.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-[--accent]/50",children:[(0,a.jsx)(o,{label:"每日胜场",value:e.incompleteDailyWins,onChange:e=>N("incompleteDailyWins",e),max:10,showMaxValue:!0}),(0,a.jsx)(o,{label:"每日任务",value:e.incompleteDailyQuests,onChange:e=>N("incompleteDailyQuests",e),max:3,showMaxValue:!0}),(0,a.jsx)(o,{label:"每周胜场",value:e.incompleteWeeklyWins,onChange:e=>N("incompleteWeeklyWins",e),max:15,showMaxValue:!0})]})]})]})}),(0,a.jsx)(i,{title:"预期进度",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-[--accent]/50",children:[(0,a.jsx)(o,{label:"每日胜场数",description:"你预计每天能完成多少场胜利？（".concat(m()," 刷新）"),value:e.dailyWinsPerDay,onChange:s=>{t({...e,dailyWinsPerDay:s[0],totalDailyWinXP:x(s[0],e.daysLeft)})},max:10,showMaxValue:!0}),(0,a.jsxs)("div",{className:"mt-4 space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"每日胜场经验"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"预计可获得的每日胜场总经验"}),(0,a.jsx)(r.p,{type:"text",value:c.toLocaleString(),readOnly:!0,className:"bg-[--input] font-mono text-center text-lg"})]})]}),(0,a.jsx)("div",{className:"border-t border-[--border] pt-6",children:(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-[--accent]/50",children:[(0,a.jsx)(o,{label:"每日任务数",description:"你预计一共能完成多少个每日任务？（".concat(m()," 刷新）"),value:e.dailyQuestsLeft,onChange:s=>{t({...e,dailyQuestsLeft:s[0],totalDailyQuestXP:g(s[0],e.daysLeft)})},max:e.daysLeft,showMaxValue:!0}),(0,a.jsxs)("div",{className:"mt-4 space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"每日任务经验"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"预计可获得的每日任务总经验"}),(0,a.jsx)(r.p,{type:"text",value:d.toLocaleString(),readOnly:!0,className:"bg-[--input] font-mono text-center text-lg"})]})]})}),(0,a.jsx)("div",{className:"border-t border-[--border] pt-6",children:(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-[--accent]/50",children:[(0,a.jsx)(o,{label:"每周胜场数",description:"你预计每周能完成多少场胜利？（".concat(function(){let e=new Date;e.setUTCHours(9,0,0,0),e.setUTCDate(e.getUTCDate()+(7-e.getUTCDay())%7);let t=e.toLocaleDateString([],{weekday:"long"}),s=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return"".concat(t," ").concat(s)}()," 刷新）"),value:e.weeklyWinsPerWeek,onChange:s=>{t({...e,weeklyWinsPerWeek:s[0],totalWeeklyWinsXP:p(s[0],e.daysLeft)})},max:15,showMaxValue:!0}),(0,a.jsxs)("div",{className:"mt-4 space-y-1.5",children:[(0,a.jsx)(l.J,{className:"text-base font-medium",children:"每周胜场经验"}),(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"预计可获得的每周胜场总经验"}),(0,a.jsx)(r.p,{type:"text",value:b.toLocaleString(),readOnly:!0,className:"bg-[--input] font-mono text-center text-lg"})]})]})})]})})]})]})}},35476:(e,t,s)=>{Promise.resolve().then(s.bind(s,23630))},61692:e=>{"use strict";e.exports=JSON.parse('{"c":[{"name":"万智牌：基石构筑","code":"FDN","releaseDate":"2024-11-13"},{"name":"先驱大师","code":"PIO","releaseDate":"2024-12-11"},{"name":"乙太飘移","code":"DFT","releaseDate":"2025-2-12","wikiUrl":"https://mtg.wiki/page/Aetherdrift?utm_source=shiqidi","preview":{"title":"扣紧护带","description":"甩开对手！上车加入乙太飘移，参与这场跨越三个时空、让肾上腺素飙升的多重宇宙竞速赛。","backgroundImage":"/image/background/DFT_sma_key_1920x1080_en.jpg","links":[{"name":"大学院废墟（中文）","url":"https://sbwsz.com/previews/DFT?utm_source=shiqidi"},{"name":"官网牌图集合","url":"https://magic.wizards.com/en/products/aetherdrift/card-image-gallery"},{"name":"Scryfall","url":"https://scryfall.com/sets/dft?order=spoiled&utm_source=shiqidi"},{"name":"Untapped.gg","url":"https://mtga.untapped.gg/codex/spoilers/aetherdrift?sortBy=spoilerDate&utm_source=shiqidi"}]}},{"name":"炼金：乙太飘移","code":"YDFT","releaseDate":"2025-3-5","wikiUrl":"https://mtg.wiki/page/Alchemy:_Aetherdrift?utm_source=shiqidi","preview":{"title":"炼金预览","description":"最新炼金系列将于2025年3月5日上线万智牌：竞技场，即日起开始预览。","links":[{"name":"十七地（中文）","url":"/previews/ydft"},{"name":"Scryfall","url":"https://scryfall.com/sets/ydft?order=spoiled&utm_source=shiqidi"}]}},{"name":"鞑契龙岚录","code":"TDM","releaseDate":"2025-4-9","wikiUrl":"https://mtg.wiki/page/Tarkir:_Dragonstorm?utm_source=shiqidi","preview":{"title":"冲破风暴","description":"鞑契比以往更大更狂放，其中满是电影化的行动、充满活力的部落特色，还有强力的新龙，可以成为加入你收藏的持久火力。","backgroundImage":"/image/background/TDM_sma_key_1920x1080_en.jpg","links":[{"name":"大学院废墟（中文）","url":"https://sbwsz.com/previews/TDM?utm_source=shiqidi"},{"name":"官网牌图集合","url":"https://magic.wizards.com/en/products/tarkir-dragonstorm/card-image-gallery"},{"name":"Scryfall","url":"https://scryfall.com/sets/tdm?order=spoiled&utm_source=shiqidi"},{"name":"Untapped.gg","url":"https://mtga.untapped.gg/codex/sets/tarkir-dragonstorm?sortBy=spoilerDate&utm_source=shiqidi"}]}},{"name":"炼金：鞑契","code":"YTDM","releaseDate":"2025-4-30"}]}')},71262:(e,t,s)=>{"use strict";s.d(t,{J:()=>n});var a=s(14994);let n=s(83802).forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("label",{ref:t,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ".concat(s||""),...n})});n.displayName="Label"},87104:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(14994);function n(e){let{label:t,error:s,className:n,readOnly:r,...l}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[t&&(0,a.jsx)("label",{className:"text-sm font-medium text-[--component-foreground]",children:t}),(0,a.jsx)("input",{className:"\n          w-full rounded-md border border-[--border] bg-[--component-background] px-3 py-2 text-sm text-[--component-foreground]\n          placeholder:text-[--component-foreground-muted]\n          focus:border-[--primary] focus:outline-none focus:ring-1 focus:ring-[--primary]\n          disabled:cursor-not-allowed disabled:opacity-50\n          ".concat(r?"focus:ring-0 focus:border-[--border] cursor-default":"","\n          ").concat(n,"\n        "),readOnly:r,...l}),s&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:s})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[533,758,205,358],()=>t(35476)),_N_E=e.O()}]);