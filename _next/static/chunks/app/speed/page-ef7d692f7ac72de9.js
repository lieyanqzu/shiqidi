(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{3163:(e,l,a)=>{"use strict";a.d(l,{Id:()=>r,YV:()=>o,bf:()=>u,dY:()=>n,h6:()=>c,or:()=>t,qW:()=>i,x3:()=>s});let t=[{label:"真人轮抽",value:"PremierDraft"},{label:"选两张轮抽",value:"PickTwoDraft"},{label:"快速轮抽",value:"QuickDraft"},{label:"现开赛",value:"Sealed"},{label:"真人轮抽BO3",value:"TradDraft"},{label:"选两张轮抽BO3",value:"PickTwoTradDraft"},{label:"现开赛BO3",value:"TradSealed"},{label:"神器混合真人轮抽",value:"PremierDraftRemixArtifacts"},{label:"竞技场直邮赛轮抽",value:"ArenaDirect_Draft"},{label:"竞技场直邮赛现开",value:"ArenaDirect_Sealed"},{label:"机器轮抽",value:"BotDraft"},{label:"竞技轮抽",value:"CompDraft"},{label:"方盒现开",value:"CubeSealed"},{label:"十项全能决赛2022",value:"DecathlonFinals2022"},{label:"十项全能决赛2023",value:"DecathlonFinals2023"},{label:"十项全能快速轮抽",value:"DecathlonQuickDraft"},{label:"十项全能真人轮抽",value:"DecathlonTradDraft"},{label:"轮抽挑战赛",value:"DraftChallenge"},{label:"徽记快速轮抽",value:"Emblem_QuickDraft"},{label:"电竞资格赛轮抽D1",value:"EsportsQualifierDraft_D1"},{label:"电竞资格赛轮抽D2",value:"EsportsQualifierDraft_D2"},{label:"电竞轮抽",value:"Esports_Draft"},{label:"FIAB现开",value:"FIAB_Sealed"},{label:"周中快速轮抽",value:"MidWeekQuickDraft"},{label:"周中现开",value:"MidWeekSealed"},{label:"全知全能轮抽",value:"Omniscience_Draft"},{label:"公开赛第一日轮抽BO1",value:"OpenDraft_D1_Bo1"},{label:"公开赛第一日轮抽BO3",value:"OpenDraft_D1_Bo3"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Bo3"},{label:"公开赛第二日轮抽1 BO3",value:"OpenDraft_D2_Draft1_Bo3"},{label:"公开赛第二日轮抽2B BO3",value:"OpenDraft_D2_Draft2B_Bo3"},{label:"公开赛第二日轮抽2 BO3",value:"OpenDraft_D2_Draft2_Bo3"},{label:"公开赛第一日现开BO1",value:"OpenSealed_D1_Bo1"},{label:"公开赛第一日现开BO3",value:"OpenSealed_D1_Bo3"},{label:"公开赛第二日现开BO3",value:"OpenSealed_D2_Bo3"},{label:"公开赛第二日现开1 BO3",value:"OpenSealed_D2_Sealed1_Bo3"},{label:"公开赛第二日现开2 BO3",value:"OpenSealed_D2_Sealed2_Bo3"},{label:"资格赛预选现开",value:"QualifierPlayInSealed"},{label:"资格赛预选现开BO3",value:"QualifierPlayInTradSealed"},{label:"资格赛第一日现开",value:"Qualifier_D1_Sealed"},{label:"资格赛第二日轮抽",value:"Qualifier_D2_Draft"},{label:"资格赛第二日现开",value:"Qualifier_D2_Sealed"}],n=[{label:"真人轮抽",value:"PremierDraft"},{label:"选两张轮抽",value:"PickTwoDraft"},{label:"快速轮抽",value:"QuickDraft"},{label:"现开赛",value:"Sealed"},{label:"真人轮抽BO3",value:"TradDraft"},{label:"现开赛BO3",value:"TradSealed"},{label:"神器混合真人轮抽",value:"PremierDraftRemixArtifacts"},{label:"公开赛第二日现开BO3",value:"OpenSealed_D2_Bo3"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Bo3"},{label:"公开赛第一日轮抽BO1",value:"OpenDraft_D1_Bo1"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Draft1_Bo3"},{label:"全知轮抽",value:"Omniscience_Draft"},{label:"中周现开",value:"MidWeekSealed"},{label:"中周轮抽",value:"MidWeekQuickDraft"},{label:"轮抽挑战赛",value:"DraftChallenge"},{label:"十项全能真人轮抽",value:"DecathlonTradDraft"},{label:"十项全能快速轮抽",value:"DecathlonQuickDraft"},{label:"十项全能决赛2022",value:"DecathlonFinals2022"},{label:"混沌轮抽",value:"CubeDraft"},{label:"资格赛预选现开",value:"QualifierPlayInSealed"},{label:"资格赛预选现开BO3",value:"QualifierPlayInTradSealed"},{label:"资格赛第一日现开",value:"Qualifier_D1_Sealed"},{label:"公开赛第一日现开BO3",value:"OpenSealed_D1_Bo3"},{label:"公开赛第一日现开BO1",value:"OpenSealed_D1_Bo1"},{label:"竞技场直邮赛现开",value:"ArenaDirect_Sealed"}],r=[{label:"TLA",value:"TLA"},{label:"OM1",value:"OM1"},{label:"EOE",value:"EOE"},{label:"Y25EOE",value:"Y25EOE"},{label:"FIN",value:"FIN"},{label:"TDM",value:"TDM"},{label:"Y25TDM",value:"Y25TDM"},{label:"DFT",value:"DFT"},{label:"Y25DFT",value:"Y25DFT"},{label:"PIO",value:"PIO"},{label:"FDN",value:"FDN"},{label:"DSK",value:"DSK"},{label:"Y25DSK",value:"Y25DSK"},{label:"BLB",value:"BLB"},{label:"Y25BLB",value:"Y25BLB"},{label:"MH3",value:"MH3"},{label:"OTJ",value:"OTJ"},{label:"Y24OTJ",value:"Y24OTJ"},{label:"MKM",value:"MKM"},{label:"Y24MKM",value:"Y24MKM"},{label:"LCI",value:"LCI"},{label:"Y24LCI",value:"Y24LCI"},{label:"WOE",value:"WOE"},{label:"Y24WOE",value:"Y24WOE"},{label:"LTR",value:"LTR"},{label:"MOM",value:"MOM"},{label:"MAT",value:"MAT"},{label:"SIR",value:"SIR"},{label:"ONE",value:"ONE"},{label:"Y23ONE",value:"Y23ONE"},{label:"BRO",value:"BRO"},{label:"Y23BRO",value:"Y23BRO"},{label:"DMU",value:"DMU"},{label:"Y23DMU",value:"Y23DMU"},{label:"HBG",value:"HBG"},{label:"SNC",value:"SNC"},{label:"Y22SNC",value:"Y22SNC"},{label:"NEO",value:"NEO"},{label:"DBL",value:"DBL"},{label:"VOW",value:"VOW"},{label:"RAVM",value:"RAVM"},{label:"MID",value:"MID"},{label:"AFR",value:"AFR"},{label:"STX",value:"STX"},{label:"CORE",value:"CORE"},{label:"KHM",value:"KHM"},{label:"KLR",value:"KLR"},{label:"ZNR",value:"ZNR"},{label:"AKR",value:"AKR"},{label:"M21",value:"M21"},{label:"IKO",value:"IKO"},{label:"THB",value:"THB"},{label:"ELD",value:"ELD"},{label:"Ravnica",value:"Ravnica"},{label:"M20",value:"M20"},{label:"WAR",value:"WAR"},{label:"M19",value:"M19"},{label:"DOM",value:"DOM"},{label:"RIX",value:"RIX"},{label:"GRN",value:"GRN"},{label:"RNA",value:"RNA"},{label:"KTK",value:"KTK"},{label:"XLN",value:"XLN"},{label:"Cube - Powered",value:"Cube - Powered"},{label:"Cube",value:"Cube"},{label:"Chaos",value:"Chaos"}],u=[{label:"所有用户",value:""},{label:"低级",value:"bottom"},{label:"中级",value:"middle"},{label:"顶级",value:"top"}],s=[{label:"全部套牌",value:""},{label:"W",value:"W"},{label:"U",value:"U"},{label:"B",value:"B"},{label:"R",value:"R"},{label:"G",value:"G"},{label:"WU",value:"WU"},{label:"WB",value:"WB"},{label:"WR",value:"WR"},{label:"WG",value:"WG"},{label:"UB",value:"UB"},{label:"UR",value:"UR"},{label:"UG",value:"UG"},{label:"BR",value:"BR"},{label:"BG",value:"BG"},{label:"RG",value:"RG"},{label:"WUB",value:"WUB"},{label:"WUR",value:"WUR"},{label:"WUG",value:"WUG"},{label:"WBR",value:"WBR"},{label:"WBG",value:"WBG"},{label:"WRG",value:"WRG"},{label:"UBR",value:"UBR"},{label:"UBG",value:"UBG"},{label:"URG",value:"URG"},{label:"BRG",value:"BRG"},{label:"WUBR",value:"WUBR"},{label:"WUBG",value:"WUBG"},{label:"WURG",value:"WURG"},{label:"WBRG",value:"WBRG"},{label:"UBRG",value:"UBRG"},{label:"WUBRG",value:"WUBRG"}],i=[{label:"W",value:"W"},{label:"U",value:"U"},{label:"B",value:"B"},{label:"R",value:"R"},{label:"G",value:"G"},{label:"M",value:"M"},{label:"C",value:"C"}],o=[{label:"普通",value:"common"},{label:"非普通",value:"uncommon"},{label:"稀有",value:"rare"},{label:"秘稀",value:"mythic"}],c=Object.fromEntries(t.map(e=>[e.value,e.label]))},23661:(e,l,a)=>{"use strict";a.d(l,{W:()=>t});let t=["om1","tla","ecl","tmt"]},36709:(e,l,a)=>{Promise.resolve().then(a.bind(a,87312))},49020:(e,l,a)=>{"use strict";a.d(l,{y:()=>s});var t=a(82995),n=a(79283),r=a(23661);let u=new Map;function s(e){let{set:l,className:a="",size:s="base",rarity:i,style:o}=e,c=l.startsWith("Y")?"y".concat(l.slice(l.match(/Y\d{0,2}/)[0].length)).toLowerCase():l.toLowerCase(),[d,v]=(0,n.useState)(null);if((0,n.useEffect)(()=>r.W.includes(c)?u.has(c)?void v(u.get(c)):void fetch("https://api.scryfall.com/sets/".concat(c)).then(e=>e.json()).then(e=>{if(e.icon_svg_uri)return fetch(e.icon_svg_uri);throw Error("No SVG")}).then(e=>e.text()).then(e=>{let l=e.match(/viewBox="([^"]+)"/i),a=l?l[1]:"0 0 600 600",t=e.matchAll(/<path[^>]*\sd="([^"]+)"/gi),n=[];for(let e of t)e[1]&&n.push(e[1]);if(n.length>0){let e={paths:n,viewBox:a};u.set(c,e),v(e)}else u.set(c,null),v(null)}).catch(e=>{console.error("[SetIcon] ".concat(c," 加载失败:"),e),u.set(c,null),v(null)}):void v(null),[c]),d){let e=d.viewBox.match(/(\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)/),l={xs:"0.75em",sm:"0.875em",base:"1em",lg:"1.25em",xl:"1.5em","2x":"2em","3x":"3em","4x":"4em"}[s],n=l;if(e){let a=parseFloat(e[3]),t=parseFloat(e[4]);if(t>0){let e=parseFloat(l),r=l.replace(/[\d.]+/,"");n="".concat(a/t*e).concat(r)}}return(0,t.jsx)("svg",{ref:e=>{if(e){let l=e.previousElementSibling;l&&"svg"===l.tagName&&"true"===l.dataset.replaced&&!l.dataset.setIcon&&l.remove()}},className:"inline-block align-middle ".concat(a),style:{width:n,height:l,fill:i?({common:"#1a1818",uncommon:"#707883",rare:"#a58e4a",mythic:"#bf4427",timeshifted:"#652978"})[i]:"currentColor",...o},viewBox:d.viewBox,preserveAspectRatio:"xMidYMid meet","aria-hidden":"true","data-set-icon":"true",children:d.paths.map((e,l)=>(0,t.jsx)("path",{d:e},l))})}return(0,t.jsx)("i",{className:"keyrune ss ss-".concat(c," ").concat("base"===s?"":"ss-".concat(s)," ").concat(i?"ss-".concat(i):""," ").concat(a).trim(),style:o,"aria-hidden":"true","data-set-icon-managed":"true"})}},58069:(e,l,a)=>{"use strict";a.d(l,{U:()=>n});var t=a(79283);function n(e){let[l,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let l=window.matchMedia(e);a(l.matches);let t=e=>{a(e.matches)};return l.addEventListener("change",t),()=>{l.removeEventListener("change",t)}},[e]),l}},87312:(e,l,a)=>{"use strict";a.d(l,{SpeedChart:()=>S});var t=a(82995),n=a(79283),r=a(62730),u=a(60955),s=a(3163);function i(e){let{selectedExpansions:l,onExpansionsChange:a,selectedFormats:i,onFormatsChange:o}=e,[c,d]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),{selectedExpansionOptions:m,unselectedExpansionOptions:f}=s.Id.reduce((e,a)=>(l.includes(a.value)?e.selectedExpansionOptions.push(a):e.unselectedExpansionOptions.push(a),e),{selectedExpansionOptions:[],unselectedExpansionOptions:[]}),{selectedFormatOptions:p,unselectedFormatOptions:h}=s.dY.reduce((e,l)=>(i.includes(l.value)?e.selectedFormatOptions.push(l):e.unselectedFormatOptions.push(l),e),{selectedFormatOptions:[],unselectedFormatOptions:[]});return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"系列:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[m.map(e=>(0,t.jsx)("button",{onClick:()=>{a(l.filter(l=>l!==e.value))},className:"px-3 py-1.5 rounded-md text-sm bg-[--primary] text-white",children:e.label},e.value)),f.length>0&&(0,t.jsx)(t.Fragment,{children:c?(0,t.jsxs)(t.Fragment,{children:[f.map(e=>(0,t.jsx)("button",{onClick:()=>{a([...l,e.value])},className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground]",children:e.label},e.value)),(0,t.jsxs)("button",{onClick:()=>d(!1),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["收起 ",(0,t.jsx)(r.A,{className:"h-4 w-4"})]})]}):(0,t.jsxs)("button",{onClick:()=>d(!0),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["更多系列 (",f.length,") ",(0,t.jsx)(u.A,{className:"h-4 w-4"})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"赛制:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[p.map(e=>(0,t.jsx)("button",{onClick:()=>{o(i.filter(l=>l!==e.value))},className:"px-3 py-1.5 rounded-md text-sm bg-[--primary] text-white",children:e.label},e.value)),h.length>0&&(0,t.jsx)(t.Fragment,{children:v?(0,t.jsxs)(t.Fragment,{children:[h.map(e=>(0,t.jsx)("button",{onClick:()=>{o([...i,e.value])},className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground]",children:e.label},e.value)),(0,t.jsxs)("button",{onClick:()=>b(!1),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["收起 ",(0,t.jsx)(r.A,{className:"h-4 w-4"})]})]}):(0,t.jsxs)("button",{onClick:()=>b(!0),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["更多赛制 (",h.length,") ",(0,t.jsx)(u.A,{className:"h-4 w-4"})]})})]})]})]})}var o=a(19734),c=a(71329),d=a(2180),v=a(34975),b=a(15212),m=a(15533),f=a(64300),p=a(58069),h=a(49020);let x=e=>{let l=B[e];return null!=l?l:"timeshifted"},D="speed-chart-selected-expansions",g="speed-chart-selected-formats",B={PremierDraft:"uncommon",PickTwoDraft:"uncommon",QuickDraft:"common",Sealed:"mythic",TradDraft:"rare",TradSealed:"mythic"},O=e=>{let{cx:l,cy:a,payload:r,onClick:u}=e;return l&&a&&r?n.createElement("foreignObject",{x:l-16,y:a-16,width:32,height:32},(0,t.jsx)("div",{style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",overflow:"visible"},onClick:e=>{e.stopPropagation(),null==u||u(l,a,r)},children:(0,t.jsx)(h.y,{set:r.expansion,size:"2x",rarity:x(r.event_type),style:{width:"24px",height:"24px"}})})):null},_=e=>e.toFixed(1),M=e=>{let{active:l,payload:a,isMobile:n,selectedPoint:r}=e;if(!n&&l&&(null==a?void 0:a.length)||n&&r){let e=n?r:a[0].payload;return(0,t.jsxs)("div",{className:"bg-[--background] border border-[--border] rounded-lg p-3 shadow-lg whitespace-nowrap",children:[(0,t.jsxs)("p",{className:"font-medium flex items-center gap-1.5",children:[(0,t.jsx)(h.y,{set:e.expansion,size:"2x",rarity:x(e.event_type)}),e.expansion," - ",s.h6[e.event_type]||e.event_type]}),(0,t.jsxs)("p",{className:"text-sm text-[--muted-foreground]",children:["先手胜率: ",(100*e.win_rate_on_play).toFixed(1),"%"]}),(0,t.jsxs)("p",{className:"text-sm text-[--muted-foreground]",children:["平均回合数: ",_(e.average_game_length)]})]})}return null},y=["PremierDraft","PickTwoDraft","QuickDraft","Sealed","TradDraft","TradSealed"];function S(e){let{initialData:l}=e,a=(0,p.U)("(max-width: 1024px)"),[r,u]=(0,n.useState)(null),[s,h]=(0,n.useState)({x:0,y:0}),[x,B]=(0,n.useState)("center"),S=(0,n.useMemo)(()=>Array.from(new Set(l.map(e=>e.expansion))).sort(),[l]),R=(e,l,a)=>{try{let t=localStorage.getItem(e);if(t){let e=JSON.parse(t);if(Array.isArray(e)&&e.length>0){if(a){let t=e.filter(e=>a.includes(e));return t.length>0?t:l}return e}}}catch(l){console.error("Failed to load ".concat(e," from localStorage:"),l)}return l},[N,k]=(0,n.useState)([]),[j,W]=(0,n.useState)([]),[E,T]=(0,n.useState)(!1),C=(0,n.useRef)(""),w=(e,l)=>{try{localStorage.setItem(e,JSON.stringify(l))}catch(l){console.error("Failed to save ".concat(e," to localStorage:"),l)}};(0,n.useEffect)(()=>{if(0===S.length||E)return;let e=R(D,S,S),l=R(g,y,y);C.current=JSON.stringify(S),k(e),W(l),T(!0)},[S,E]),(0,n.useEffect)(()=>{E&&w(D,N)},[N,E]),(0,n.useEffect)(()=>{E&&w(g,j)},[j,E]),(0,n.useEffect)(()=>{if(!E||0===S.length)return;let e=JSON.stringify(S);e!==C.current&&(C.current=e,k(e=>{if(0===e.length)return e;let l=S.filter(l=>!e.includes(l));if(l.length>0)return[...e,...l];{let l=e.filter(e=>S.includes(e));return l.length!==e.length?l.length>0?l:S:e}}))},[S,E]);let U=(0,n.useMemo)(()=>l.filter(e=>{let l=N.includes(e.expansion),a=j.includes(e.event_type);return l&&a}),[l,N,j]),G=(0,n.useMemo)(()=>{if(0===U.length)return{xMin:.48,xMax:.56,yMin:6,yMax:11,xTicks:[],yTicks:[]};let e=U.map(e=>e.win_rate_on_play),l=U.map(e=>e.average_game_length),t=Math.min(...e),n=Math.max(...e),r=Math.min(...l),u=Math.max(...l),s=n-t,i=u-r,o=Math.max(.47,t-.05*s),c=Math.min(.57,n+.05*s),d=Math.max(6,r-.05*i),v=Math.min(11,u+.05*i),b=(c-o)/(a?6:10),m=(v-d)/(a?6:8),f=[],p=[];for(let e=0;e<=(a?6:10);e++){let l=o+e*b;f.push(Math.round(1e3*l)/1e3)}for(let e=0;e<=(a?6:8);e++){let l=d+e*m;p.push(Math.round(10*l)/10)}return{xMin:o,xMax:c,yMin:d,yMax:v,xTicks:f,yTicks:p}},[U,a]),F=(e,l,t)=>{if(a){let a=document.querySelector(".recharts-wrapper");if(a){let l=a.clientWidth;e<160?B("left"):e>l-140-20?B("right"):B("center")}h({x:e,y:l}),u((null==r?void 0:r.expansion)===t.expansion&&(null==r?void 0:r.event_type)===t.event_type?null:t)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(i,{selectedExpansions:N,onExpansionsChange:k,selectedFormats:j,onFormatsChange:W})}),(0,t.jsx)("div",{className:"bg-[--component-background] rounded-lg p-4",children:(0,t.jsxs)("div",{className:"h-[600px] relative",onClick:()=>{a&&u(null)},children:[(0,t.jsx)(o.u,{width:"100%",height:"100%",children:(0,t.jsxs)(c.t,{margin:a?{top:10,right:5,bottom:40,left:12}:{top:20,right:20,bottom:50,left:50},children:[(0,t.jsx)(d.d,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),(0,t.jsx)(v.W,{type:"number",dataKey:"win_rate_on_play",name:"先手胜率",domain:[G.xMin,G.xMax],ticks:G.xTicks,tickFormatter:e=>"".concat((100*e).toFixed(1),"%"),label:{value:"先手胜率",position:"bottom",offset:a?15:30,style:{fill:"var(--foreground)",fontSize:a?12:14}},tick:{fontSize:a?10:12}}),(0,t.jsx)(b.h,{type:"number",dataKey:"average_game_length",name:"平均回合数",domain:[G.yMin,G.yMax],ticks:G.yTicks,tickFormatter:e=>_(e),label:{value:"平均回合数",angle:-90,position:"left",offset:a?5:30,style:{fill:"var(--foreground)",fontSize:a?12:14}},tick:{fontSize:a?10:12},width:a?40:50}),!a&&(0,t.jsx)(m.m,{content:(0,t.jsx)(M,{})}),(0,t.jsx)(f.X,{data:U,shape:e=>(0,t.jsx)(O,{...e,onClick:F})})]})}),a&&r&&(0,t.jsx)("div",{className:"absolute pointer-events-none",style:{left:"".concat(s.x,"px"),top:"".concat(s.y-24,"px"),transform:"center"===x?"translate(-50%, -100%)":"left"===x?"translate(0, -100%)":"translate(-100%, -100%)"},children:(0,t.jsx)(M,{isMobile:!0,selectedPoint:r})})]})})]})}}},e=>{e.O(0,[554,451,75,358],()=>e(e.s=36709)),_N_E=e.O()}]);