(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{3163:(e,l,a)=>{"use strict";a.d(l,{Id:()=>r,YV:()=>i,bf:()=>u,dY:()=>n,h6:()=>b,or:()=>t,qW:()=>o,x3:()=>s});let t=[{label:"真人轮抽",value:"PremierDraft"},{label:"选两张轮抽",value:"PickTwoDraft"},{label:"快速轮抽",value:"QuickDraft"},{label:"现开赛",value:"Sealed"},{label:"真人轮抽BO3",value:"TradDraft"},{label:"选两张轮抽BO3",value:"PickTwoTradDraft"},{label:"现开赛BO3",value:"TradSealed"},{label:"神器混合真人轮抽",value:"PremierDraftRemixArtifacts"},{label:"竞技场直邮赛轮抽",value:"ArenaDirect_Draft"},{label:"竞技场直邮赛现开",value:"ArenaDirect_Sealed"},{label:"机器轮抽",value:"BotDraft"},{label:"竞技轮抽",value:"CompDraft"},{label:"方盒现开",value:"CubeSealed"},{label:"十项全能决赛2022",value:"DecathlonFinals2022"},{label:"十项全能决赛2023",value:"DecathlonFinals2023"},{label:"十项全能快速轮抽",value:"DecathlonQuickDraft"},{label:"十项全能真人轮抽",value:"DecathlonTradDraft"},{label:"轮抽挑战赛",value:"DraftChallenge"},{label:"徽记快速轮抽",value:"Emblem_QuickDraft"},{label:"电竞资格赛轮抽D1",value:"EsportsQualifierDraft_D1"},{label:"电竞资格赛轮抽D2",value:"EsportsQualifierDraft_D2"},{label:"电竞轮抽",value:"Esports_Draft"},{label:"FIAB现开",value:"FIAB_Sealed"},{label:"周中快速轮抽",value:"MidWeekQuickDraft"},{label:"周中现开",value:"MidWeekSealed"},{label:"全知全能轮抽",value:"Omniscience_Draft"},{label:"公开赛第一日轮抽BO1",value:"OpenDraft_D1_Bo1"},{label:"公开赛第一日轮抽BO3",value:"OpenDraft_D1_Bo3"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Bo3"},{label:"公开赛第二日轮抽1 BO3",value:"OpenDraft_D2_Draft1_Bo3"},{label:"公开赛第二日轮抽2B BO3",value:"OpenDraft_D2_Draft2B_Bo3"},{label:"公开赛第二日轮抽2 BO3",value:"OpenDraft_D2_Draft2_Bo3"},{label:"公开赛第一日现开BO1",value:"OpenSealed_D1_Bo1"},{label:"公开赛第一日现开BO3",value:"OpenSealed_D1_Bo3"},{label:"公开赛第二日现开BO3",value:"OpenSealed_D2_Bo3"},{label:"公开赛第二日现开1 BO3",value:"OpenSealed_D2_Sealed1_Bo3"},{label:"公开赛第二日现开2 BO3",value:"OpenSealed_D2_Sealed2_Bo3"},{label:"资格赛预选现开",value:"QualifierPlayInSealed"},{label:"资格赛预选现开BO3",value:"QualifierPlayInTradSealed"},{label:"资格赛第一日现开",value:"Qualifier_D1_Sealed"},{label:"资格赛第二日轮抽",value:"Qualifier_D2_Draft"},{label:"资格赛第二日现开",value:"Qualifier_D2_Sealed"}],n=[{label:"真人轮抽",value:"PremierDraft"},{label:"选两张轮抽",value:"PickTwoDraft"},{label:"快速轮抽",value:"QuickDraft"},{label:"现开赛",value:"Sealed"},{label:"真人轮抽BO3",value:"TradDraft"},{label:"现开赛BO3",value:"TradSealed"},{label:"神器混合真人轮抽",value:"PremierDraftRemixArtifacts"},{label:"公开赛第二日现开BO3",value:"OpenSealed_D2_Bo3"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Bo3"},{label:"公开赛第一日轮抽BO1",value:"OpenDraft_D1_Bo1"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Draft1_Bo3"},{label:"全知轮抽",value:"Omniscience_Draft"},{label:"中周现开",value:"MidWeekSealed"},{label:"中周轮抽",value:"MidWeekQuickDraft"},{label:"轮抽挑战赛",value:"DraftChallenge"},{label:"十项全能真人轮抽",value:"DecathlonTradDraft"},{label:"十项全能快速轮抽",value:"DecathlonQuickDraft"},{label:"十项全能决赛2022",value:"DecathlonFinals2022"},{label:"混沌轮抽",value:"CubeDraft"},{label:"资格赛预选现开",value:"QualifierPlayInSealed"},{label:"资格赛预选现开BO3",value:"QualifierPlayInTradSealed"},{label:"资格赛第一日现开",value:"Qualifier_D1_Sealed"},{label:"公开赛第一日现开BO3",value:"OpenSealed_D1_Bo3"},{label:"公开赛第一日现开BO1",value:"OpenSealed_D1_Bo1"},{label:"竞技场直邮赛现开",value:"ArenaDirect_Sealed"}],r=[{label:"OM1",value:"OM1"},{label:"EOE",value:"EOE"},{label:"Y25EOE",value:"Y25EOE"},{label:"FIN",value:"FIN"},{label:"TDM",value:"TDM"},{label:"Y25TDM",value:"Y25TDM"},{label:"DFT",value:"DFT"},{label:"Y25DFT",value:"Y25DFT"},{label:"PIO",value:"PIO"},{label:"FDN",value:"FDN"},{label:"DSK",value:"DSK"},{label:"Y25DSK",value:"Y25DSK"},{label:"BLB",value:"BLB"},{label:"Y25BLB",value:"Y25BLB"},{label:"MH3",value:"MH3"},{label:"OTJ",value:"OTJ"},{label:"Y24OTJ",value:"Y24OTJ"},{label:"MKM",value:"MKM"},{label:"Y24MKM",value:"Y24MKM"},{label:"LCI",value:"LCI"},{label:"Y24LCI",value:"Y24LCI"},{label:"WOE",value:"WOE"},{label:"Y24WOE",value:"Y24WOE"},{label:"LTR",value:"LTR"},{label:"MOM",value:"MOM"},{label:"MAT",value:"MAT"},{label:"SIR",value:"SIR"},{label:"ONE",value:"ONE"},{label:"Y23ONE",value:"Y23ONE"},{label:"BRO",value:"BRO"},{label:"Y23BRO",value:"Y23BRO"},{label:"DMU",value:"DMU"},{label:"Y23DMU",value:"Y23DMU"},{label:"HBG",value:"HBG"},{label:"SNC",value:"SNC"},{label:"Y22SNC",value:"Y22SNC"},{label:"NEO",value:"NEO"},{label:"DBL",value:"DBL"},{label:"VOW",value:"VOW"},{label:"RAVM",value:"RAVM"},{label:"MID",value:"MID"},{label:"AFR",value:"AFR"},{label:"STX",value:"STX"},{label:"CORE",value:"CORE"},{label:"KHM",value:"KHM"},{label:"KLR",value:"KLR"},{label:"ZNR",value:"ZNR"},{label:"AKR",value:"AKR"},{label:"M21",value:"M21"},{label:"IKO",value:"IKO"},{label:"THB",value:"THB"},{label:"ELD",value:"ELD"},{label:"Ravnica",value:"Ravnica"},{label:"M20",value:"M20"},{label:"WAR",value:"WAR"},{label:"M19",value:"M19"},{label:"DOM",value:"DOM"},{label:"RIX",value:"RIX"},{label:"GRN",value:"GRN"},{label:"RNA",value:"RNA"},{label:"KTK",value:"KTK"},{label:"XLN",value:"XLN"},{label:"Cube - Powered",value:"Cube - Powered"},{label:"Cube",value:"Cube"},{label:"Chaos",value:"Chaos"}],u=[{label:"所有用户",value:""},{label:"低级",value:"bottom"},{label:"中级",value:"middle"},{label:"顶级",value:"top"}],s=[{label:"全部套牌",value:""},{label:"W",value:"W"},{label:"U",value:"U"},{label:"B",value:"B"},{label:"R",value:"R"},{label:"G",value:"G"},{label:"WU",value:"WU"},{label:"WB",value:"WB"},{label:"WR",value:"WR"},{label:"WG",value:"WG"},{label:"UB",value:"UB"},{label:"UR",value:"UR"},{label:"UG",value:"UG"},{label:"BR",value:"BR"},{label:"BG",value:"BG"},{label:"RG",value:"RG"},{label:"WUB",value:"WUB"},{label:"WUR",value:"WUR"},{label:"WUG",value:"WUG"},{label:"WBR",value:"WBR"},{label:"WBG",value:"WBG"},{label:"WRG",value:"WRG"},{label:"UBR",value:"UBR"},{label:"UBG",value:"UBG"},{label:"URG",value:"URG"},{label:"BRG",value:"BRG"},{label:"WUBR",value:"WUBR"},{label:"WUBG",value:"WUBG"},{label:"WURG",value:"WURG"},{label:"WBRG",value:"WBRG"},{label:"UBRG",value:"UBRG"},{label:"WUBRG",value:"WUBRG"}],o=[{label:"W",value:"W"},{label:"U",value:"U"},{label:"B",value:"B"},{label:"R",value:"R"},{label:"G",value:"G"},{label:"M",value:"M"},{label:"C",value:"C"}],i=[{label:"普通",value:"common"},{label:"非普通",value:"uncommon"},{label:"稀有",value:"rare"},{label:"秘稀",value:"mythic"}],b=Object.fromEntries(t.map(e=>[e.value,e.label]))},36709:(e,l,a)=>{Promise.resolve().then(a.bind(a,87312))},58069:(e,l,a)=>{"use strict";a.d(l,{U:()=>n});var t=a(79283);function n(e){let[l,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let l=window.matchMedia(e);a(l.matches);let t=e=>{a(e.matches)};return l.addEventListener("change",t),()=>{l.removeEventListener("change",t)}},[e]),l}},87312:(e,l,a)=>{"use strict";a.d(l,{SpeedChart:()=>M});var t=a(82995),n=a(79283),r=a(62730),u=a(60955),s=a(3163);function o(e){let{selectedExpansions:l,onExpansionsChange:a,selectedFormats:o,onFormatsChange:i}=e,[b,c]=(0,n.useState)(!1),[v,d]=(0,n.useState)(!1),{selectedExpansionOptions:m,unselectedExpansionOptions:p}=s.Id.reduce((e,a)=>(l.includes(a.value)?e.selectedExpansionOptions.push(a):e.unselectedExpansionOptions.push(a),e),{selectedExpansionOptions:[],unselectedExpansionOptions:[]}),{selectedFormatOptions:f,unselectedFormatOptions:x}=s.dY.reduce((e,l)=>(o.includes(l.value)?e.selectedFormatOptions.push(l):e.unselectedFormatOptions.push(l),e),{selectedFormatOptions:[],unselectedFormatOptions:[]});return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"系列:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[m.map(e=>(0,t.jsx)("button",{onClick:()=>{a(l.filter(l=>l!==e.value))},className:"px-3 py-1.5 rounded-md text-sm bg-[--primary] text-white",children:e.label},e.value)),p.length>0&&(0,t.jsx)(t.Fragment,{children:b?(0,t.jsxs)(t.Fragment,{children:[p.map(e=>(0,t.jsx)("button",{onClick:()=>{a([...l,e.value])},className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground]",children:e.label},e.value)),(0,t.jsxs)("button",{onClick:()=>c(!1),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["收起 ",(0,t.jsx)(r.A,{className:"h-4 w-4"})]})]}):(0,t.jsxs)("button",{onClick:()=>c(!0),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["更多系列 (",p.length,") ",(0,t.jsx)(u.A,{className:"h-4 w-4"})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"赛制:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[f.map(e=>(0,t.jsx)("button",{onClick:()=>{i(o.filter(l=>l!==e.value))},className:"px-3 py-1.5 rounded-md text-sm bg-[--primary] text-white",children:e.label},e.value)),x.length>0&&(0,t.jsx)(t.Fragment,{children:v?(0,t.jsxs)(t.Fragment,{children:[x.map(e=>(0,t.jsx)("button",{onClick:()=>{i([...o,e.value])},className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground]",children:e.label},e.value)),(0,t.jsxs)("button",{onClick:()=>d(!1),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["收起 ",(0,t.jsx)(r.A,{className:"h-4 w-4"})]})]}):(0,t.jsxs)("button",{onClick:()=>d(!0),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["更多赛制 (",x.length,") ",(0,t.jsx)(u.A,{className:"h-4 w-4"})]})})]})]})]})}var i=a(19734),b=a(71329),c=a(2180),v=a(34975),d=a(15212),m=a(15533),p=a(64300),f=a(58069);let x="speed-chart-selected-expansions",h="speed-chart-selected-formats",D={PremierDraft:"uncommon",PickTwoDraft:"uncommon",QuickDraft:"common",Sealed:"mythic",TradDraft:"rare",TradSealed:"mythic"},B=e=>{let{cx:l,cy:a,payload:n,onClick:r}=e;if(!l||!a||!n)return null;let u=n.expansion.startsWith("Y")?"y".concat(n.expansion.slice(n.expansion.match(/Y\d{0,2}/)[0].length)).toLowerCase():n.expansion.toLowerCase();return(0,t.jsx)("foreignObject",{x:l-12,y:a-12,width:24,height:24,children:(0,t.jsx)("i",{className:"keyrune ss ss-".concat(u," ss-").concat(D[n.event_type]||"timeshifted"),style:{fontSize:"24px",display:"block",lineHeight:"24px",textAlign:"center",cursor:"pointer"},onClick:e=>{e.stopPropagation(),null==r||r(l,a,n)}})})},O=e=>e.toFixed(1),g=e=>{let{active:l,payload:a,isMobile:n,selectedPoint:r}=e;if(!n&&l&&(null==a?void 0:a.length)||n&&r){let e=n?r:a[0].payload,l=e.expansion.startsWith("Y")?"y".concat(e.expansion.slice(e.expansion.match(/Y\d{0,2}/)[0].length)).toLowerCase():e.expansion.toLowerCase();return(0,t.jsxs)("div",{className:"bg-[--background] border border-[--border] rounded-lg p-3 shadow-lg whitespace-nowrap",children:[(0,t.jsxs)("p",{className:"font-medium",children:[(0,t.jsx)("i",{className:"keyrune ss ss-2x ss-".concat(l," ss-").concat(D[e.event_type]||"uncommon")})," ",e.expansion," - ",s.h6[e.event_type]||e.event_type]}),(0,t.jsxs)("p",{className:"text-sm text-[--muted-foreground]",children:["先手胜率: ",(100*e.win_rate_on_play).toFixed(1),"%"]}),(0,t.jsxs)("p",{className:"text-sm text-[--muted-foreground]",children:["平均回合数: ",O(e.average_game_length)]})]})}return null},_=["PremierDraft","PickTwoDraft","QuickDraft","Sealed","TradDraft","TradSealed"];function M(e){let{initialData:l}=e,a=(0,f.U)("(max-width: 1024px)"),[r,u]=(0,n.useState)(null),[s,D]=(0,n.useState)({x:0,y:0}),[M,S]=(0,n.useState)("center"),R=(0,n.useMemo)(()=>Array.from(new Set(l.map(e=>e.expansion))).sort(),[l]),y=(e,l,a)=>{try{let t=localStorage.getItem(e);if(t){let e=JSON.parse(t);if(Array.isArray(e)&&e.length>0){if(a){let t=e.filter(e=>a.includes(e));return t.length>0?t:l}return e}}}catch(l){console.error("Failed to load ".concat(e," from localStorage:"),l)}return l},[k,N]=(0,n.useState)([]),[W,j]=(0,n.useState)([]),[T,C]=(0,n.useState)(!1),E=(0,n.useRef)(""),U=(e,l)=>{try{localStorage.setItem(e,JSON.stringify(l))}catch(l){console.error("Failed to save ".concat(e," to localStorage:"),l)}};(0,n.useEffect)(()=>{if(0===R.length||T)return;let e=y(x,R,R),l=y(h,_,_);E.current=JSON.stringify(R),N(e),j(l),C(!0)},[R,T]),(0,n.useEffect)(()=>{T&&U(x,k)},[k,T]),(0,n.useEffect)(()=>{T&&U(h,W)},[W,T]),(0,n.useEffect)(()=>{if(!T||0===R.length)return;let e=JSON.stringify(R);e!==E.current&&(E.current=e,N(e=>{if(0===e.length)return e;let l=R.filter(l=>!e.includes(l));if(l.length>0)return[...e,...l];{let l=e.filter(e=>R.includes(e));return l.length!==e.length?l.length>0?l:R:e}}))},[R,T]);let G=(0,n.useMemo)(()=>l.filter(e=>{let l=k.includes(e.expansion),a=W.includes(e.event_type);return l&&a}),[l,k,W]),w=(0,n.useMemo)(()=>{if(0===G.length)return{xMin:.48,xMax:.56,yMin:6,yMax:11,xTicks:[],yTicks:[]};let e=G.map(e=>e.win_rate_on_play),l=G.map(e=>e.average_game_length),t=Math.min(...e),n=Math.max(...e),r=Math.min(...l),u=Math.max(...l),s=n-t,o=u-r,i=Math.max(.47,t-.05*s),b=Math.min(.57,n+.05*s),c=Math.max(6,r-.05*o),v=Math.min(11,u+.05*o),d=(b-i)/(a?6:10),m=(v-c)/(a?6:8),p=[],f=[];for(let e=0;e<=(a?6:10);e++){let l=i+e*d;p.push(Math.round(1e3*l)/1e3)}for(let e=0;e<=(a?6:8);e++){let l=c+e*m;f.push(Math.round(10*l)/10)}return{xMin:i,xMax:b,yMin:c,yMax:v,xTicks:p,yTicks:f}},[G,a]),F=(e,l,t)=>{if(a){let a=document.querySelector(".recharts-wrapper");if(a){let l=a.clientWidth;e<160?S("left"):e>l-140-20?S("right"):S("center")}D({x:e,y:l}),u((null==r?void 0:r.expansion)===t.expansion&&(null==r?void 0:r.event_type)===t.event_type?null:t)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(o,{selectedExpansions:k,onExpansionsChange:N,selectedFormats:W,onFormatsChange:j})}),(0,t.jsx)("div",{className:"bg-[--component-background] rounded-lg p-4",children:(0,t.jsxs)("div",{className:"h-[600px] relative",onClick:()=>{a&&u(null)},children:[(0,t.jsx)(i.u,{width:"100%",height:"100%",children:(0,t.jsxs)(b.t,{margin:a?{top:10,right:5,bottom:40,left:12}:{top:20,right:20,bottom:50,left:50},children:[(0,t.jsx)(c.d,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),(0,t.jsx)(v.W,{type:"number",dataKey:"win_rate_on_play",name:"先手胜率",domain:[w.xMin,w.xMax],ticks:w.xTicks,tickFormatter:e=>"".concat((100*e).toFixed(1),"%"),label:{value:"先手胜率",position:"bottom",offset:a?15:30,style:{fill:"var(--foreground)",fontSize:a?12:14}},tick:{fontSize:a?10:12}}),(0,t.jsx)(d.h,{type:"number",dataKey:"average_game_length",name:"平均回合数",domain:[w.yMin,w.yMax],ticks:w.yTicks,tickFormatter:e=>O(e),label:{value:"平均回合数",angle:-90,position:"left",offset:a?5:30,style:{fill:"var(--foreground)",fontSize:a?12:14}},tick:{fontSize:a?10:12},width:a?40:50}),!a&&(0,t.jsx)(m.m,{content:(0,t.jsx)(g,{})}),(0,t.jsx)(p.X,{data:G,shape:e=>(0,t.jsx)(B,{...e,onClick:F})})]})}),a&&r&&(0,t.jsx)("div",{className:"absolute pointer-events-none",style:{left:"".concat(s.x,"px"),top:"".concat(s.y-24,"px"),transform:"center"===M?"translate(-50%, -100%)":"left"===M?"translate(0, -100%)":"translate(-100%, -100%)"},children:(0,t.jsx)(g,{isMobile:!0,selectedPoint:r})})]})})]})}}},e=>{e.O(0,[554,451,75,358],()=>e(e.s=36709)),_N_E=e.O()}]);