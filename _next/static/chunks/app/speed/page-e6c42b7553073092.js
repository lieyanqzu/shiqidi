(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{51730:(e,l,a)=>{Promise.resolve().then(a.bind(a,92120))},57235:(e,l,a)=>{"use strict";a.d(l,{U:()=>n});var t=a(65310);function n(e){let[l,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let l=window.matchMedia(e);a(l.matches);let t=e=>{a(e.matches)};return l.addEventListener("change",t),()=>{l.removeEventListener("change",t)}},[e]),l}},82101:(e,l,a)=>{"use strict";a.d(l,{Id:()=>u,YV:()=>i,bf:()=>s,dY:()=>n,h6:()=>b,or:()=>t,qW:()=>o,x3:()=>r});let t=[{label:"真人轮抽",value:"PremierDraft"},{label:"真人轮抽BO3",value:"TradDraft"},{label:"选两张轮抽",value:"PickTwoDraft"},{label:"快速轮抽",value:"QuickDraft"},{label:"现开赛",value:"Sealed"},{label:"现开赛BO3",value:"TradSealed"},{label:"竞技场直邮赛现开",value:"ArenaDirect_Sealed"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Draft1_Bo3"},{label:"公开赛第二日轮抽2B BO3",value:"OpenDraft_D2_Draft2B_Bo3"},{label:"公开赛第二日轮抽2 BO3",value:"OpenDraft_D2_Draft2_Bo3"},{label:"公开赛第一日现开BO1",value:"OpenSealed_D1_Bo1"},{label:"公开赛第一日现开BO3",value:"OpenSealed_D1_Bo3"},{label:"资格赛预选现开",value:"QualifierPlayInSealed"}],n=[{label:"真人轮抽",value:"PremierDraft"},{label:"选两张轮抽",value:"PickTwoDraft"},{label:"快速轮抽",value:"QuickDraft"},{label:"现开赛",value:"Sealed"},{label:"真人轮抽BO3",value:"TradDraft"},{label:"现开赛BO3",value:"TradSealed"},{label:"神器混合真人轮抽",value:"PremierDraftRemixArtifacts"},{label:"公开赛第二日现开BO3",value:"OpenSealed_D2_Bo3"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Bo3"},{label:"公开赛第一日轮抽BO1",value:"OpenDraft_D1_Bo1"},{label:"公开赛第二日轮抽BO3",value:"OpenDraft_D2_Draft1_Bo3"},{label:"全知轮抽",value:"Omniscience_Draft"},{label:"中周现开",value:"MidWeekSealed"},{label:"中周轮抽",value:"MidWeekQuickDraft"},{label:"轮抽挑战赛",value:"DraftChallenge"},{label:"十项全能真人轮抽",value:"DecathlonTradDraft"},{label:"十项全能快速轮抽",value:"DecathlonQuickDraft"},{label:"十项全能决赛2022",value:"DecathlonFinals2022"},{label:"混沌轮抽",value:"CubeDraft"},{label:"资格赛预选现开",value:"QualifierPlayInSealed"},{label:"资格赛预选现开BO3",value:"QualifierPlayInTradSealed"},{label:"资格赛第一日现开",value:"Qualifier_D1_Sealed"},{label:"公开赛第一日现开BO3",value:"OpenSealed_D1_Bo3"},{label:"公开赛第一日现开BO1",value:"OpenSealed_D1_Bo1"},{label:"竞技场直邮赛现开",value:"ArenaDirect_Sealed"}],u=[{label:"OM1",value:"OM1"},{label:"EOE",value:"EOE"},{label:"Y25EOE",value:"Y25EOE"},{label:"FIN",value:"FIN"},{label:"TDM",value:"TDM"},{label:"Y25TDM",value:"Y25TDM"},{label:"DFT",value:"DFT"},{label:"Y25DFT",value:"Y25DFT"},{label:"PIO",value:"PIO"},{label:"FDN",value:"FDN"},{label:"DSK",value:"DSK"},{label:"Y25DSK",value:"Y25DSK"},{label:"BLB",value:"BLB"},{label:"Y25BLB",value:"Y25BLB"},{label:"MH3",value:"MH3"},{label:"OTJ",value:"OTJ"},{label:"Y24OTJ",value:"Y24OTJ"},{label:"MKM",value:"MKM"},{label:"Y24MKM",value:"Y24MKM"},{label:"LCI",value:"LCI"},{label:"Y24LCI",value:"Y24LCI"},{label:"WOE",value:"WOE"},{label:"Y24WOE",value:"Y24WOE"},{label:"LTR",value:"LTR"},{label:"MOM",value:"MOM"},{label:"MAT",value:"MAT"},{label:"SIR",value:"SIR"},{label:"ONE",value:"ONE"},{label:"Y23ONE",value:"Y23ONE"},{label:"BRO",value:"BRO"},{label:"Y23BRO",value:"Y23BRO"},{label:"DMU",value:"DMU"},{label:"Y23DMU",value:"Y23DMU"},{label:"HBG",value:"HBG"},{label:"SNC",value:"SNC"},{label:"Y22SNC",value:"Y22SNC"},{label:"NEO",value:"NEO"},{label:"DBL",value:"DBL"},{label:"VOW",value:"VOW"},{label:"RAVM",value:"RAVM"},{label:"MID",value:"MID"},{label:"AFR",value:"AFR"},{label:"STX",value:"STX"},{label:"CORE",value:"CORE"},{label:"KHM",value:"KHM"},{label:"KLR",value:"KLR"},{label:"ZNR",value:"ZNR"},{label:"AKR",value:"AKR"},{label:"M21",value:"M21"},{label:"IKO",value:"IKO"},{label:"THB",value:"THB"},{label:"ELD",value:"ELD"},{label:"M20",value:"M20"},{label:"WAR",value:"WAR"},{label:"RNA",value:"RNA"},{label:"GRN",value:"GRN"},{label:"DOM",value:"DOM"},{label:"RIX",value:"RIX"},{label:"KTK",value:"KTK"},{label:"Cube",value:"Cube"},{label:"Chaos",value:"Chaos"}],s=[{label:"所有用户",value:""},{label:"低级",value:"bottom"},{label:"中级",value:"middle"},{label:"顶级",value:"top"}],r=[{label:"全部套牌",value:""},{label:"W",value:"W"},{label:"U",value:"U"},{label:"B",value:"B"},{label:"R",value:"R"},{label:"G",value:"G"},{label:"WU",value:"WU"},{label:"WB",value:"WB"},{label:"WR",value:"WR"},{label:"WG",value:"WG"},{label:"UB",value:"UB"},{label:"UR",value:"UR"},{label:"UG",value:"UG"},{label:"BR",value:"BR"},{label:"BG",value:"BG"},{label:"RG",value:"RG"},{label:"WUB",value:"WUB"},{label:"WUR",value:"WUR"},{label:"WUG",value:"WUG"},{label:"WBR",value:"WBR"},{label:"WBG",value:"WBG"},{label:"WRG",value:"WRG"},{label:"UBR",value:"UBR"},{label:"UBG",value:"UBG"},{label:"URG",value:"URG"},{label:"BRG",value:"BRG"},{label:"WUBR",value:"WUBR"},{label:"WUBG",value:"WUBG"},{label:"WURG",value:"WURG"},{label:"WBRG",value:"WBRG"},{label:"UBRG",value:"UBRG"},{label:"WUBRG",value:"WUBRG"}],o=[{label:"W",value:"W"},{label:"U",value:"U"},{label:"B",value:"B"},{label:"R",value:"R"},{label:"G",value:"G"},{label:"M",value:"M"},{label:"C",value:"C"}],i=[{label:"普通",value:"common"},{label:"非普通",value:"uncommon"},{label:"稀有",value:"rare"},{label:"秘稀",value:"mythic"}],b=Object.fromEntries(t.map(e=>[e.value,e.label]))},92120:(e,l,a)=>{"use strict";a.d(l,{SpeedChart:()=>D});var t=a(61582),n=a(65310),u=a(82728),s=a(6949),r=a(82101);function o(e){let{selectedExpansions:l,onExpansionsChange:a,selectedFormats:o,onFormatsChange:i}=e,[b,v]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),{selectedExpansionOptions:m,unselectedExpansionOptions:p}=r.Id.reduce((e,a)=>(l.includes(a.value)?e.selectedExpansionOptions.push(a):e.unselectedExpansionOptions.push(a),e),{selectedExpansionOptions:[],unselectedExpansionOptions:[]}),{selectedFormatOptions:x,unselectedFormatOptions:h}=r.dY.reduce((e,l)=>(o.includes(l.value)?e.selectedFormatOptions.push(l):e.unselectedFormatOptions.push(l),e),{selectedFormatOptions:[],unselectedFormatOptions:[]});return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"系列:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[m.map(e=>(0,t.jsx)("button",{onClick:()=>{a(l.filter(l=>l!==e.value))},className:"px-3 py-1.5 rounded-md text-sm bg-[--primary] text-white",children:e.label},e.value)),p.length>0&&(0,t.jsx)(t.Fragment,{children:b?(0,t.jsxs)(t.Fragment,{children:[p.map(e=>(0,t.jsx)("button",{onClick:()=>{a([...l,e.value])},className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground]",children:e.label},e.value)),(0,t.jsxs)("button",{onClick:()=>v(!1),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["收起 ",(0,t.jsx)(u.A,{className:"h-4 w-4"})]})]}):(0,t.jsxs)("button",{onClick:()=>v(!0),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["更多系列 (",p.length,") ",(0,t.jsx)(s.A,{className:"h-4 w-4"})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium mb-2",children:"赛制:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[x.map(e=>(0,t.jsx)("button",{onClick:()=>{i(o.filter(l=>l!==e.value))},className:"px-3 py-1.5 rounded-md text-sm bg-[--primary] text-white",children:e.label},e.value)),h.length>0&&(0,t.jsx)(t.Fragment,{children:c?(0,t.jsxs)(t.Fragment,{children:[h.map(e=>(0,t.jsx)("button",{onClick:()=>{i([...o,e.value])},className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground]",children:e.label},e.value)),(0,t.jsxs)("button",{onClick:()=>d(!1),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["收起 ",(0,t.jsx)(u.A,{className:"h-4 w-4"})]})]}):(0,t.jsxs)("button",{onClick:()=>d(!0),className:"px-3 py-1.5 rounded-md text-sm bg-[--component-background] text-[--component-foreground] flex items-center gap-1",children:["更多赛制 (",h.length,") ",(0,t.jsx)(s.A,{className:"h-4 w-4"})]})})]})]})]})}var i=a(91636),b=a(78796),v=a(34466),c=a(34201),d=a(38062),m=a(68769),p=a(83145),x=a(57235);let h={PremierDraft:"uncommon",PickTwoDraft:"uncommon",QuickDraft:"common",Sealed:"mythic",TradDraft:"rare",TradSealed:"mythic"},f=e=>{let{cx:l,cy:a,payload:n,onClick:u}=e;if(!l||!a||!n)return null;let s=n.expansion.startsWith("Y")?"y".concat(n.expansion.slice(n.expansion.match(/Y\d{0,2}/)[0].length)).toLowerCase():n.expansion.toLowerCase();return(0,t.jsx)("foreignObject",{x:l-12,y:a-12,width:24,height:24,children:(0,t.jsx)("i",{className:"keyrune ss ss-".concat(s," ss-").concat(h[n.event_type]||"timeshifted"),style:{fontSize:"24px",display:"block",lineHeight:"24px",textAlign:"center",cursor:"pointer"},onClick:e=>{e.stopPropagation(),null==u||u(l,a,n)}})})},B=e=>{let{active:l,payload:a,isMobile:n,selectedPoint:u}=e;if(!n&&l&&(null==a?void 0:a.length)||n&&u){let e=n?u:a[0].payload,l=e.expansion.startsWith("Y")?"y".concat(e.expansion.slice(e.expansion.match(/Y\d{0,2}/)[0].length)).toLowerCase():e.expansion.toLowerCase();return(0,t.jsxs)("div",{className:"bg-[--background] border border-[--border] rounded-lg p-3 shadow-lg whitespace-nowrap",children:[(0,t.jsxs)("p",{className:"font-medium",children:[(0,t.jsx)("i",{className:"keyrune ss ss-2x ss-".concat(l," ss-").concat(h[e.event_type]||"uncommon")})," ",e.expansion," - ",r.h6[e.event_type]||e.event_type]}),(0,t.jsxs)("p",{className:"text-sm text-[--muted-foreground]",children:["先手胜率: ",(100*e.win_rate_on_play).toFixed(1),"%"]}),(0,t.jsxs)("p",{className:"text-sm text-[--muted-foreground]",children:["平均回合数: ",e.average_game_length.toFixed(1)]})]})}return null};function D(e){let{initialData:l}=e,a=(0,x.U)("(max-width: 1024px)"),[u,s]=(0,n.useState)(null),[r,h]=(0,n.useState)({x:0,y:0}),[D,O]=(0,n.useState)("center"),g=(0,n.useMemo)(()=>Array.from(new Set(l.map(e=>e.expansion))).sort(),[l]),[R,_]=(0,n.useState)(g),[N,W]=(0,n.useState)(["PremierDraft","PickTwoDraft","QuickDraft","Sealed","TradDraft","TradSealed"]),j=(0,n.useMemo)(()=>l.filter(e=>{let l=R.includes(e.expansion),a=N.includes(e.event_type);return l&&a}),[l,R,N]),S=(e,l,t)=>{if(a){let a=document.querySelector(".recharts-wrapper");if(a){let l=a.clientWidth;e<160?O("left"):e>l-140-20?O("right"):O("center")}h({x:e,y:l}),s((null==u?void 0:u.expansion)===t.expansion&&(null==u?void 0:u.event_type)===t.event_type?null:t)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(o,{selectedExpansions:R,onExpansionsChange:_,selectedFormats:N,onFormatsChange:W})}),(0,t.jsx)("div",{className:"bg-[--component-background] rounded-lg p-4",children:(0,t.jsxs)("div",{className:"h-[600px] relative",onClick:()=>{a&&s(null)},children:[(0,t.jsx)(i.u,{width:"100%",height:"100%",children:(0,t.jsxs)(b.t,{margin:a?{top:10,right:5,bottom:40,left:-20}:{top:20,right:20,bottom:50,left:50},children:[(0,t.jsx)(v.d,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),(0,t.jsx)(c.W,{type:"number",dataKey:"win_rate_on_play",name:"先手胜率",domain:["auto","auto"],tickFormatter:e=>"".concat((100*e).toFixed(1),"%"),label:{value:"先手胜率",position:"bottom",offset:a?15:30,style:{fill:"var(--foreground)",fontSize:a?12:14}},tick:{fontSize:a?10:12}}),(0,t.jsx)(d.h,{type:"number",dataKey:"average_game_length",name:"平均回合数",domain:["auto","auto"],label:{value:"平均回合数",angle:-90,position:"left",offset:a?-30:30,style:{fill:"var(--foreground)",fontSize:a?12:14}},tick:{fontSize:a?10:12}}),!a&&(0,t.jsx)(m.m,{content:(0,t.jsx)(B,{})}),(0,t.jsx)(p.X,{data:j,shape:e=>(0,t.jsx)(f,{...e,onClick:S})})]})}),a&&u&&(0,t.jsx)("div",{className:"absolute pointer-events-none",style:{left:"".concat(r.x,"px"),top:"".concat(r.y-24,"px"),transform:"center"===D?"translate(-50%, -100%)":"left"===D?"translate(0, -100%)":"translate(-100%, -100%)"},children:(0,t.jsx)(B,{isMobile:!0,selectedPoint:u})})]})})]})}}},e=>{e.O(0,[313,845,264,358],()=>e(e.s=51730)),_N_E=e.O()}]);