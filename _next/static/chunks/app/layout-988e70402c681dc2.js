(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{3872:()=>{},32880:()=>{},35969:(e,t,r)=>{"use strict";r.d(t,{Header:()=>A});var a=r(60081),s=r(11624),n=r.n(s),i=r(65717),l=r(94304),o=r(20953);let c=(0,o.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),d=(0,o.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function h(){let[e,t]=(0,i.useState)("light");return(0,i.useEffect)(()=>{let e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,a=e||(r?"dark":"light");t(a),document.documentElement.classList.toggle("dark","dark"===a)},[]),(0,a.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>{let r="light"===e?"dark":"light";t(r),localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark","dark"===r)},className:"w-9 h-9",title:"light"===e?"切换到暗色模式":"切换到亮色模式",children:"light"===e?(0,a.jsx)(c,{className:"h-4 w-4"}):(0,a.jsx)(d,{className:"h-4 w-4"})})}let m=(0,o.A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),u=(0,o.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var p=r(47836),x=r(34899);let f=(0,o.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),g=(0,o.A)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);var v=r(48251);let w=(0,o.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var b=r(61692),y=r(55463),j=r(73432);let k=e=>{let{children:t,className:r="",side:s="bottom",onClose:n,asNotification:i=!1,backgroundImage:l}=e;return(0,a.jsx)("div",{className:"\n      rounded-lg bg-[--card] border border-[--border]\n      shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95\n      relative\n      ".concat(!i?"after:absolute after:w-3 after:h-3 \n      after:rotate-45 after:bg-[--card] after:border after:border-[--border]\n      ".concat({top:"after:bottom-[-6px] after:border-b-0 after:border-l-0 after:left-1/2 after:-translate-x-1/2",bottom:"after:top-[-6px] after:border-t-0 after:border-r-0 after:left-1/2 after:-translate-x-1/2",left:"after:right-[-6px] after:border-t-0 after:border-r-0 after:top-1/2 after:-translate-y-1/2",right:"after:left-[-6px] after:border-b-0 after:border-l-0 after:top-1/2 after:-translate-y-1/2"}[s]):"","\n      ").concat(r,"\n    "),children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg px-4 py-3 text-sm text-[--foreground]",children:[l&&(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.3] dark:opacity-[0.3]",style:{backgroundImage:"url(".concat(l,")"),backgroundSize:"cover",backgroundPosition:"center"}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[--card] opacity-60 dark:opacity-70"})]}),(0,a.jsxs)("div",{className:"relative",children:[n&&(0,a.jsx)("button",{onClick:n,className:"absolute top-0 right-0 w-6 h-6 rounded flex items-center justify-center text-[--muted-foreground] hover:text-[--foreground] transition-colors",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),t]})]})})},N=e=>{let{children:t,content:r,open:s,onOpenChange:n,side:l="bottom",className:o="",showCloseButton:c=!1,asNotification:d=!1,backgroundImage:h}=e,[m,u]=(0,i.useState)(s),[p,x]=(0,i.useState)({top:0,left:0}),[f,g]=(0,i.useState)(l),[v,w]=(0,i.useState)(null),b=(0,i.useRef)(null),y=(0,i.useRef)(null),N=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{void 0!==s&&u(s)},[s]),(0,i.useEffect)(()=>{if(!m||!y.current)return;if(d)return void x({top:window.innerHeight-(y.current.offsetHeight+16),left:window.innerWidth-(y.current.offsetWidth+16)});if(!b.current)return;let e=()=>{if(!b.current||!y.current)return;let e=b.current.getBoundingClientRect();if(0===e.width||0===e.height||e.top>=window.innerHeight||e.bottom<=0||e.left>=window.innerWidth||e.right<=0||"none"===window.getComputedStyle(b.current).display||"hidden"===window.getComputedStyle(b.current).visibility){let t=document.querySelectorAll("[data-next-set-trigger]"),r=null;for(let e of t){let t=e.getBoundingClientRect(),a=window.getComputedStyle(e);if(t.width>0&&t.height>0&&t.top<window.innerHeight&&t.bottom>0&&t.left<window.innerWidth&&t.right>0&&"none"!==a.display&&"hidden"!==a.visibility){r=e;break}}if(!r){u(!1),null==n||n(!1);return}e=r.getBoundingClientRect()}let t=y.current.getBoundingClientRect(),r=0,a=0,s=l,i=window.innerWidth,o=window.innerHeight,c=e.top,d=o-e.bottom;switch("bottom"===l&&d<t.height+8&&c>t.height+8?s="top":"top"===l&&c<t.height+8&&d>t.height+8&&(s="bottom"),s){case"bottom":r=e.bottom+12,a=e.left+(e.width-t.width)/2;break;case"top":r=e.top-t.height-12,a=e.left+(e.width-t.width)/2;break;case"right":r=e.top+(e.height-t.height)/2,a=e.right+12;break;case"left":r=e.top+(e.height-t.height)/2,a=e.left-t.width-12}a<8?a=8:a+t.width>i-8&&(a=i-t.width-8),r<8?r=8:r+t.height>o-8&&(r=o-t.height-8),g(s),x({top:r,left:a})};return e(),window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0)}},[m,l,d,n]);let _=e=>{!d&&(e.nativeEvent instanceof TouchEvent||(w("mouse"),N.current&&clearTimeout(N.current),u(!0),null==n||n(!0)))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:b,onMouseEnter:_,onMouseLeave:e=>{!d&&(e.nativeEvent instanceof TouchEvent||(N.current=setTimeout(()=>{var e;(null==(e=y.current)?void 0:e.matches(":hover"))||(u(!1),null==n||n(!1))},100)))},onClick:e=>{(e.nativeEvent instanceof TouchEvent||d)&&(w("touch"),u(!m),null==n||n(!m))},children:t}),m&&(0,j.createPortal)((0,a.jsx)("div",{ref:y,style:{position:"fixed",top:p.top,left:p.left,zIndex:9999},className:o,onMouseEnter:_,onMouseLeave:e=>{!d&&(e.nativeEvent instanceof TouchEvent||(u(!1),null==n||n(!1)))},children:(0,a.jsx)(k,{side:f,onClose:c?()=>{u(!1),null==n||n(!1)}:void 0,asNotification:d||"touch"===v,backgroundImage:h,children:r})}),document.body)]})};var _=r(23463),S=r(88096);function C(e){let t=e.includes("~")?"约":"",r=(0,_.H)(e.replace("~",""));return(0,S.f)(r)?t+new Intl.DateTimeFormat("zh-CN",{month:"long",day:"numeric"}).format(r):(console.error("Invalid date string passed to formatDate: ".concat(e)),"无效日期")}function E(e){var t,r,s;let{className:n=""}=e,{current:l,next:o}=function(){let e=new Date,t=b.c.sort((e,t)=>{let r=(0,_.H)(e.releaseDate.replace("~","")),a=(0,_.H)(t.releaseDate.replace("~",""));return((0,S.f)(r)?r.getTime():-1/0)-((0,S.f)(a)?a.getTime():1/0)}),r=null,a=null;for(let s=t.length-1;s>=0;s--){let n=t[s],i=(0,_.H)(n.releaseDate.replace("~",""));if((0,S.f)(i)&&i<=e){r=n,a=t[s+1]||null;break}}return{current:r,next:a}}(),[c,d]=(0,i.useState)(!1),[h,p]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let e=localStorage.getItem("previewTooltipLastShown"),t=new Date().getTime();(!e||t-parseInt(e)>432e6)&&(null==o?void 0:o.preview)&&(d(!0),localStorage.setItem("previewTooltipLastShown",t.toString()))},[o]),(0,i.useEffect)(()=>{let e=()=>p(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),l)?(0,a.jsx)("div",{className:"flex items-center gap-4 px-3 py-1.5 text-sm text-[--muted-foreground] ".concat(n),children:(0,a.jsxs)("div",{className:"grid md:flex grid-cols-2 w-full md:w-auto gap-4 md:gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 min-w-0",children:[(0,a.jsx)("i",{className:"ss ss-".concat(l.code.toLowerCase()," ss-fw flex-shrink-0")}),(0,a.jsxs)("span",{className:"break-words",children:["最新系列：",l.name]})]}),o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden md:block w-px h-4 bg-[--border]"}),o.preview?(0,a.jsx)(N,{open:c,onOpenChange:d,side:"top",showCloseButton:!0,asNotification:h,backgroundImage:o.preview.backgroundImage,content:(0,a.jsxs)("div",{className:"w-[320px] space-y-3",children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("h3",{className:"font-medium text-[--foreground] flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-[13px] text-[--muted-foreground]",children:"新系列："}),(0,a.jsx)("i",{className:"ss ss-".concat(o.code.toLowerCase()," ss-2x opacity-80 flex-shrink-0")}),o.name,o.wikiUrl&&(0,a.jsxs)("a",{href:o.wikiUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-[13px] text-[--primary] hover:text-[--primary]/80 transition-colors",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)(m,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:"MTG Wiki"})]})]})}),(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:(null==(t=o.preview)?void 0:t.title)&&(null==(r=o.preview)?void 0:r.description)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-[--foreground]",children:o.preview.title}),(0,a.jsx)("span",{className:"mx-2 text-[--muted-foreground] opacity-30",children:"|"}),(0,a.jsx)("span",{className:"text-[--muted-foreground]",children:o.preview.description})]})})]})}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("p",{className:"text-[13px] text-[--muted-foreground] opacity-90",children:["前往以下网站，了解",o.name,"最新预览卡牌"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:null==(s=o.preview)?void 0:s.links.map((e,t)=>(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-[13px] text-[--primary] hover:text-[--primary]/80 transition-colors",children:[(0,a.jsx)(m,{className:"w-3.5 h-3.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.name})]},t))})]})]}),children:(0,a.jsxs)("span",{className:"flex items-center gap-1.5 cursor-help min-w-0","data-next-set-trigger":!0,children:[(0,a.jsx)(u,{className:"w-4 h-4 flex-shrink-0"}),(0,a.jsxs)("span",{className:"break-words",children:["下个系列：",o.name,"（",C(o.releaseDate),"）",(0,a.jsx)("span",{className:"inline-flex items-center justify-center px-1.5 py-0.5 text-xs border border-[--primary] text-[--primary] rounded ml-1",children:"预览"})]})]})}):(0,a.jsxs)("span",{className:"flex items-center gap-1.5 min-w-0",children:[(0,a.jsx)(u,{className:"w-4 h-4 flex-shrink-0"}),(0,a.jsxs)("span",{className:"break-words",children:["下个系列：",o.name,"（",C(o.releaseDate),"）"]})]})]})]})}):null}function D(e){let{className:t=""}=e,{data:r,isLoading:s,error:l,fetchStatus:o}=(0,y.Xk)();if((0,i.useEffect)(()=>{o();let e=setInterval(()=>o(),6e4);return()=>clearInterval(e)},[o]),s)return(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 text-sm ".concat(t),children:[(0,a.jsx)(p.A,{className:"w-4 h-4 animate-pulse text-[--muted-foreground]"}),(0,a.jsx)("span",{className:"text-[--muted-foreground] md:inline hidden",children:"MTGA服务："}),(0,a.jsx)("span",{className:"text-[--muted-foreground]",children:"检查中..."})]});if(l||!r)return null;let c={none:"text-emerald-500",minor:"text-yellow-500",major:"text-orange-500",critical:"text-red-500",maintenance:"text-blue-500"},d="none"!==r.status.indicator?"animate-pulse":"",h=r.scheduled_maintenances.length>0,m=h?r.scheduled_maintenances[0]:null,u=(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 ".concat(c[r.status.indicator]," ").concat(d)}),(0,a.jsx)("span",{className:"text-[--muted-foreground] md:inline hidden",children:"MTGA服务："}),(0,a.jsx)("span",{className:c[r.status.indicator],children:h&&"none"===r.status.indicator?"计划维护":({none:"正常",minor:"轻微问题",major:"重要问题",critical:"严重问题",maintenance:"维护中"})[r.status.indicator]})]});if(h&&m){let e=(0,_.H)(m.scheduled_for),r=(0,_.H)(m.scheduled_until),s=e=>(0,S.f)(e)?new Intl.DateTimeFormat("zh-CN",{month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}).format(e):"无效时间";return(0,a.jsx)(N,{content:(0,a.jsxs)("div",{className:"w-[320px] space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("h3",{className:"font-medium text-[--foreground]",children:m.name})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-[--muted-foreground]",children:[(0,a.jsxs)("div",{children:["开始时间：",s(e)]}),(0,a.jsxs)("div",{children:["结束时间：",s(r)]})]}),m.incident_updates.length>0&&(0,a.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:m.incident_updates[0].body})]}),side:"bottom",children:(0,a.jsx)(n(),{href:"/status",className:"flex items-center gap-1.5 px-3 py-1.5 text-sm hover:opacity-80 transition-opacity ".concat(t),children:u})})}return(0,a.jsx)(n(),{href:"/status",className:"flex items-center gap-1.5 px-3 py-1.5 text-sm hover:opacity-80 transition-opacity ".concat(t),children:u})}let M=[{label:"轮抽数据",children:[{label:"卡牌数据",href:"/cards"},{label:"赛制速度",href:"/speed"},{label:"色组数据",href:"https://www.17lands.com/deck_color_data",external:!0}]},{label:"万智日程",children:[{label:"MTGA活动日历",href:"/calendar"},{label:"标准轮替日程",href:"/rotation"},{label:"MTGA服务状态",href:"/status"},{label:"炼金系列预览",href:"/previews"}]},{label:"其他工具",children:[{label:"MTGA汉化MOD",href:"/mod"},{label:"Scryfall汉化脚本",href:"/script"},{label:"抽卡概率计算器",href:"/hypergeometric"},{label:"精研通行证计算器",href:"/mastery"},{label:"开包模拟器",href:"/simulator"}]},{label:"关于",href:"/about"}];function L(e){let{item:t,onClose:r}=e,[s,l]=(0,i.useState)(!1);return t.children?(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{className:"flex items-center justify-between w-full px-4 py-2 text-[--foreground-muted] hover:text-[--foreground]",onClick:()=>l(!s),children:[t.label,(0,a.jsx)(x.A,{className:"h-4 w-4 transition-transform ".concat(s?"rotate-180":"")})]}),s&&(0,a.jsx)("div",{className:"pl-4 space-y-1 border-l border-[--border] ml-4",children:t.children.map((e,t)=>e.external?(0,a.jsxs)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-4 py-2 text-[--foreground-muted] hover:text-[--foreground]",onClick:r,children:[e.label,(0,a.jsx)(m,{className:"h-3 w-3"})]},t):(0,a.jsx)(n(),{href:e.href,className:"block px-4 py-2 text-[--foreground-muted] hover:text-[--foreground]",onClick:r,children:e.label},t))})]}):(0,a.jsx)(n(),{href:t.href,className:"block px-4 py-2 text-[--foreground-muted] hover:text-[--foreground]",onClick:r,children:t.label})}function T(e){let{item:t}=e;return t.children?(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)("button",{className:"flex items-center gap-1 text-[--foreground-muted] group-hover:text-[--foreground]",children:[t.label,(0,a.jsx)(x.A,{className:"h-4 w-4"})]}),(0,a.jsx)("div",{className:"absolute left-0 top-[calc(100%-0.25rem)] pt-2 invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-[opacity] duration-150",children:(0,a.jsx)("div",{className:"py-2 bg-[--card] rounded-lg border border-[--border] shadow-lg min-w-[160px]",children:t.children.map((e,t)=>e.external?(0,a.jsxs)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-4 py-2 text-[--foreground-muted] hover:text-[--foreground] hover:bg-[--accent]",children:[e.label,(0,a.jsx)(m,{className:"h-3 w-3"})]},t):(0,a.jsx)(n(),{href:e.href,className:"block px-4 py-2 text-[--foreground-muted] hover:text-[--foreground] hover:bg-[--accent]",children:e.label},t))})})]}):(0,a.jsx)(n(),{href:t.href,className:"text-[--foreground-muted] hover:text-[--foreground]",children:t.label})}function A(){let[e,t]=(0,i.useState)(!1),{isInstallable:r,install:s}=function(){let[e,t]=(0,i.useState)(null),[r,a]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=e=>{e.preventDefault(),t(e),a(!0)};return window.addEventListener("beforeinstallprompt",e),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]),{isInstallable:r,install:async()=>{if(!e)return;e.prompt();let{outcome:r}=await e.userChoice;"accepted"===r&&(t(null),a(!1))}}}();return(0,i.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),(0,a.jsxs)("header",{className:"sticky top-0 z-50 border-b border-[--border] bg-[--background]",children:[(0,a.jsxs)("div",{className:"container mx-auto",children:[(0,a.jsxs)("div",{className:"flex h-16 md:h-8 2xl:h-16 items-center justify-between px-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[(0,a.jsx)(n(),{href:"/",className:"font-semibold text-[--foreground] whitespace-nowrap",children:"十七地"}),(0,a.jsx)(D,{className:"md:hidden"})]}),(0,a.jsx)("nav",{className:"hidden md:flex items-center space-x-6 text-sm",children:M.map((e,t)=>(0,a.jsx)(T,{item:e},t))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(E,{className:"hidden 2xl:flex"}),(0,a.jsx)("div",{className:"w-px h-4 bg-[--border] hidden 2xl:flex"}),(0,a.jsx)(D,{className:"hidden 2xl:flex"}),r&&(0,a.jsx)("button",{onClick:s,className:"text-[--foreground-muted] hover:text-[--foreground] transition-colors",title:"安装应用",children:(0,a.jsx)(f,{className:"h-5 w-5"})}),(0,a.jsx)("a",{href:"https://space.bilibili.com/271023",target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground-muted] hover:text-[--foreground] transition-colors",title:"B站主页",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M17.813 4.653h.854c1.51.054 2.769.578 3.773 1.574 1.004.995 1.524 2.249 1.56 3.76v7.36c-.036 1.51-.556 2.769-1.56 3.773s-2.262 1.524-3.773 1.56H5.333c-1.51-.036-2.769-.556-3.773-1.56S.036 18.858 0 17.347v-7.36c.036-1.511.556-2.765 1.56-3.76 1.004-.996 2.262-1.52 3.773-1.574h.774l-1.174-1.12a1.234 1.234 0 0 1-.373-.906c0-.356.124-.658.373-.907l.027-.027c.267-.249.573-.373.92-.373.347 0 .653.124.92.373L9.653 4.44c.071.071.134.142.187.213h4.267a.836.836 0 0 1 .16-.213l2.853-2.747c.267-.249.573-.373.92-.373.347 0 .662.151.929.4.267.249.391.551.391.907 0 .355-.124.657-.373.906zM5.333 7.24c-.746.018-1.373.276-1.88.773-.506.498-.769 1.13-.786 1.894v7.52c.017.764.28 1.395.786 1.893.507.498 1.134.756 1.88.773h13.334c.746-.017 1.373-.275 1.88-.773.506-.498.769-1.129.786-1.893v-7.52c-.017-.765-.28-1.396-.786-1.894-.507-.497-1.134-.755-1.88-.773zM8 11.107c.373 0 .684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c0-.373.129-.689.386-.947.258-.257.574-.386.947-.386zm8 0c.373 0 .684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c.017-.391.15-.711.4-.96.249-.249.56-.373.933-.373Z"})})}),(0,a.jsx)("a",{href:"https://github.com/lieyanqzu/shiqidi",target:"_blank",rel:"noopener noreferrer",className:"text-[--foreground-muted] hover:text-[--foreground] transition-colors",title:"GitHub仓库",children:(0,a.jsx)(g,{className:"h-5 w-5"})}),(0,a.jsx)(h,{}),(0,a.jsx)("button",{className:"md:hidden p-1 text-[--foreground-muted] hover:text-[--foreground]",onClick:()=>t(!e),children:e?(0,a.jsx)(v.A,{className:"h-6 w-6"}):(0,a.jsx)(w,{className:"h-6 w-6"})})]})]}),(0,a.jsxs)("div",{className:"hidden md:flex 2xl:hidden items-center justify-between border-t border-[--border] px-4",children:[(0,a.jsx)(E,{}),(0,a.jsx)(D,{})]})]}),e&&(0,a.jsx)("div",{className:"fixed inset-0 top-16 bg-[--background] z-40 md:hidden",children:(0,a.jsxs)("nav",{className:"container mx-auto px-4 py-4",children:[(0,a.jsx)("div",{className:"space-y-4 mb-6",children:(0,a.jsx)(E,{})}),(0,a.jsx)("div",{className:"space-y-1",children:M.map((e,r)=>(0,a.jsx)(L,{item:e,onClose:()=>t(!1)},r))})]})})]})}},47704:()=>{},48251:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(20953).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},55463:(e,t,r)=>{"use strict";r.d(t,{xp:()=>n,LJ:()=>l,Xk:()=>i});var a=r(52402);let s=new Date().toISOString().split("T")[0],n=(0,a.v)(e=>({cards:[],chineseCards:{},params:{expansion:"TDM",format:"PremierDraft",start_date:"2016-01-01",end_date:s},isLoading:!1,error:null,setCards:t=>e({cards:t}),setChineseCards:t=>e(e=>{let r={...e.chineseCards};return t.forEach(e=>{r[e.name]=e,e.face_name&&(r[e.face_name]=e)}),{chineseCards:r}}),setParams:t=>e(e=>({params:{...e.params,...t}})),setIsLoading:t=>e({isLoading:t}),setError:t=>e({error:t})})),i=(0,a.v)((e,t)=>({data:null,isLoading:!1,error:null,lastUpdated:null,fetchStatus:async function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t(),s=Date.now();if(r||!a.data||!a.lastUpdated||!(s-a.lastUpdated<6e4)){e({isLoading:!0});try{let t=await fetch("https://magicthegatheringarena.statuspage.io/api/v2/summary.json");if(!t.ok)throw Error("获取状态信息失败");let r=await t.json();e({data:r,error:null,lastUpdated:s})}catch(t){e({error:t instanceof Error?t.message:"未知错误",data:null})}finally{e({isLoading:!1})}}}})),l=(0,a.v)(e=>({chineseSetNames:{},isLoading:!1,error:null,hasLoaded:!1,fetchChineseSetNames:async()=>{let t=l.getState();if(!t.hasLoaded&&!t.isLoading)try{e({isLoading:!0});let t=await fetch("https://www.sbwsz.com/api/v1/sets/");if(!t.ok)throw Error("获取系列中文名称失败");let r=(await t.json()).reduce((e,t)=>(t.translated_name&&(e[t.code]=t.translated_name),e),{});e({chineseSetNames:r,error:null,hasLoaded:!0})}catch(t){e({error:t instanceof Error?t:Error("获取系列中文名称失败")})}finally{e({isLoading:!1})}}}))},61692:e=>{"use strict";e.exports=JSON.parse('{"c":[{"name":"万智牌：基石构筑","code":"FDN","releaseDate":"2024-11-13"},{"name":"先驱大师","code":"PIO","releaseDate":"2024-12-11"},{"name":"乙太飘移","code":"DFT","releaseDate":"2025-02-12","wikiUrl":"https://mtg.wiki/page/Aetherdrift?utm_source=shiqidi","preview":{"title":"扣紧护带","description":"甩开对手！上车加入乙太飘移，参与这场跨越三个时空、让肾上腺素飙升的多重宇宙竞速赛。","backgroundImage":"/image/background/DFT_sma_key_1920x1080_en.jpg","links":[{"name":"大学院废墟（中文）","url":"https://sbwsz.com/previews/DFT?utm_source=shiqidi"},{"name":"官网牌图集合","url":"https://magic.wizards.com/en/products/aetherdrift/card-image-gallery"},{"name":"Scryfall","url":"https://scryfall.com/sets/dft?order=spoiled&utm_source=shiqidi"},{"name":"Untapped.gg","url":"https://mtga.untapped.gg/codex/spoilers/aetherdrift?sortBy=spoilerDate&utm_source=shiqidi"}]}},{"name":"炼金：乙太飘移","code":"YDFT","releaseDate":"2025-03-05","wikiUrl":"https://mtg.wiki/page/Alchemy:_Aetherdrift?utm_source=shiqidi","preview":{"title":"炼金预览","description":"最新炼金系列将于2025年3月5日上线万智牌：竞技场，即日起开始预览。","links":[{"name":"十七地（中文）","url":"/previews/ydft"},{"name":"Scryfall","url":"https://scryfall.com/sets/ydft?order=spoiled&utm_source=shiqidi"}]}},{"name":"鞑契龙岚录","code":"TDM","releaseDate":"2025-04-09","wikiUrl":"https://mtg.wiki/page/Tarkir:_Dragonstorm?utm_source=shiqidi","preview":{"title":"冲破风暴","description":"鞑契比以往更大更狂放，其中满是电影化的行动、充满活力的部落特色，还有强力的新龙，可以成为加入你收藏的持久火力。","backgroundImage":"/image/background/TDM_sma_key_1920x1080_en.jpg","links":[{"name":"大学院废墟（中文）","url":"https://sbwsz.com/previews/TDM?utm_source=shiqidi"},{"name":"官网牌图集合","url":"https://magic.wizards.com/en/products/tarkir-dragonstorm/card-image-gallery"},{"name":"Scryfall","url":"https://scryfall.com/sets/tdm?order=spoiled&utm_source=shiqidi"},{"name":"Untapped.gg","url":"https://mtga.untapped.gg/codex/sets/tarkir-dragonstorm?sortBy=spoilerDate&utm_source=shiqidi"}]}},{"name":"炼金：鞑契","code":"YTDM","releaseDate":"2025-04-30","wikiUrl":"https://mtg.wiki/page/Alchemy:_Tarkir?utm_source=shiqidi","preview":{"title":"炼金预览","description":"最新炼金系列将于2025年4月30日上线万智牌：竞技场，即日起开始预览。","links":[{"name":"十七地（中文）","url":"/previews/ytdm"},{"name":"Scryfall","url":"https://scryfall.com/sets/ytdm?order=spoiled&utm_source=shiqidi"}]}},{"name":"万智牌～最终幻想","code":"FIN","releaseDate":"2025-06-11","wikiUrl":"https://mtg.wiki/page/Final_Fantasy?utm_source=shiqidi"}]}')},69819:(e,t,r)=>{"use strict";r.d(t,{AnalyticsTracker:()=>c});var a=r(54217),s=r(65717);let n=null,i=["https://api.ipify.org?format=json","https://api.ip.sb/geoip","https://ipapi.co/json/","https://api.myip.com"];async function l(){if(n)return n;for(let e of i)try{let t=await fetch(e),r=await t.json(),a=r.ip||r.query;if(a)return n=a,a}catch(e){continue}return n="unknown","unknown"}async function o(e){try{let t=await l();await fetch("".concat("https://oug155gh.lc-cn-n1-shared.com","/1.1/classes/PageView"),{method:"POST",headers:{"Content-Type":"application/json","X-LC-Id":"ouG155GhmITO8rbIPklBGdVy-gzGzoHsz","X-LC-Key":"tHuCvHWxIKlVoFNGF3V9bOUS"},body:JSON.stringify({page:e,ip:t,userAgent:window.navigator.userAgent,timestamp:{__type:"Date",iso:new Date().toISOString()}})})}catch(e){console.error("Failed to track page view:",e)}}function c(){let e=(0,a.usePathname)();return(0,s.useEffect)(()=>{e&&o(e)},[e]),null}},71147:()=>{},92988:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3872,23)),Promise.resolve().then(r.bind(r,69819)),Promise.resolve().then(r.bind(r,35969)),Promise.resolve().then(r.t.bind(r,32880,23)),Promise.resolve().then(r.t.bind(r,47704,23)),Promise.resolve().then(r.t.bind(r,71147,23))},94304:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var a=r(60081);function s(e){let{variant:t="primary",size:r="md",className:s,...n}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--primary]"," ").concat({primary:"bg-[--primary] text-[--primary-foreground] hover:brightness-110 active:scale-[0.98]",secondary:"bg-[--background-subtle] text-[--foreground] hover:brightness-95 active:scale-[0.98]",ghost:"bg-transparent text-[--foreground-muted] hover:bg-[--background-subtle] hover:text-[--foreground] active:scale-[0.98]"}[t]," ").concat({sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base",icon:"h-9 w-9 p-0"}[r]," ").concat(s),...n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[329,546,624,338,868,886,358],()=>t(92988)),_N_E=e.O()}]);